import { Meta, Canvas, Controls} from "@storybook/blocks";
import * as TransitionStories from "./Transition.stories";
import { T } from "../T";

<Meta of={TransitionStories} />

# Transition

<p style={{ margin: "0 0 16px 0", fontSize: "18px", lineHeight: "28px", color: "#6c757d" }}>
  <T k="doc_transition_title" />
</p>

`Transition` コンポーネントは、CSS クラスを使用してコンポーネントに遷移アニメーション（進入・退出）を簡単に追加するためのユーティリティです。遷移の各段階に応じて、適切なタイミングでクラスを適用・管理します。

## 特徴

- 段階的なクラス管理: `enter` (遷移中), `enterFrom` (開始時), `enterTo` (終了時) および `leave` 系のクラスを連携させます。
- アンマウント対応: 退出アニメーションの完了後に、自動的に子要素をアンマウントすることができます。
- SSR 対応: React のライフサイクルとハイドレーションに正しく対応しています。

## 使い方

```tsx
<Transition
  show={isOpen}
  enter="transition-opacity duration-300"
  enterFrom="opacity-0"
  enterTo="opacity-100"
  leave="transition-opacity duration-200"
  leaveFrom="opacity-100"
  leaveTo="opacity-0"
>
  <div>アニメーションするコンテンツ</div>
</Transition>
```

## 例

### フェードアニメーション

シンプルな不透明度の変化によるフェードイン・フェードアウトです。ボタンのラベル変更時の幅のアニメーションも組み込まれています。

<Canvas of={TransitionStories.Fade} />

### スライドアニメーション

不透明度と位置（transform）の遷移を組み合わせた例です。

<Canvas of={TransitionStories.Slide} />

## 遷移の各ステージ

- enter: 進入フェーズ全体を通して適用されます。
- enterFrom: 進入フェーズの開始時（最初のフレームの前）に適用されます。
- enterTo: 進入フェーズの終了時に適用されます。
- leave: 退出フェーズ全体を通して適用されます。
- leaveFrom: 退出フェーズの開始時に適用されます。
- leaveTo: 退出フェーズの終了時に適用されます。

## プロップ

<Controls />

