import { Canvas, Meta, Story, Controls } from "@storybook/addon-docs/blocks";
import * as SelectboxStories from "./Selectbox.stories";
import { T } from "../T";

<Meta of={SelectboxStories} />

# Selectbox

<p
  style={{
    margin: "0 0 16px 0",
    fontSize: "18px",
    lineHeight: "28px",
    color: "#6c757d",
  }}
>
  <T k="doc_selectbox_title" />
</p>

<p><T k="doc_selectbox_long_desc" /></p>

## <T k="doc_basic_usage" />

```jsx
import { Selectbox } from "@/components/Selectbox/Selectbox";

const options = [
  { label: "Apple", value: "apple" },
  { label: "Banana", value: "banana" },
  { label: "Orange", value: "orange" },
];

<Selectbox options={options} onChange={(val) => console.log(val)} />;
```

## Examples

### Default

<Canvas of={SelectboxStories.Default} />

### With Label

<Canvas of={SelectboxStories.WithLabel} />

### Preselected

<Canvas of={SelectboxStories.Preselected} />

### Disabled

<Canvas of={SelectboxStories.Disabled} />

### <T k="doc_selectbox_var_sep" />

<p><T k="doc_selectbox_var_sep_desc" /></p>

<Canvas of={SelectboxStories.WithSeparator} />

### <T k="doc_selectbox_var_native" />

<p><T k="doc_selectbox_var_native_desc" /></p>

<Canvas of={SelectboxStories.NativeWithSeparator} />

## <T k="doc_selectbox_adv" />

### <T k="doc_selectbox_adv_search" />

<p><T k="doc_selectbox_adv_search_desc" /></p>

```jsx
<Selectbox
  options={manyOptions}
  searchable
  searchPlaceholder="Search options..."
  onChange={(val) => console.log(val)}
/>
```

Custom filter function:

By default, a case-insensitive partial match search is performed, but you can also provide a custom filter function.

```jsx
<Selectbox
  options={options}
  searchable
  filterOption={(option, searchValue) => {
    // Custom filter logic
    return option.value.includes(searchValue);
  }}
  onChange={(val) => console.log(val)}
/>
```

### <T k="doc_selectbox_adv_group" />

<p><T k="doc_selectbox_adv_group_desc" /></p>

```jsx
const groupedOptions = [
  {
    label: "Fruits",
    options: [
      { label: "Apple", value: "apple" },
      { label: "Banana", value: "banana" },
    ],
  },
  {
    label: "Vegetables",
    options: [
      { label: "Carrot", value: "carrot" },
      { label: "Broccoli", value: "broccoli" },
    ],
  },
];

<Selectbox
  options={groupedOptions}
  grouped
  onChange={(val) => console.log(val)}
/>;
```

### <T k="doc_selectbox_adv_key" />

<p><T k="doc_selectbox_adv_key_desc" /></p>

<table>
  <thead>
    <tr>
      <th><T k="doc_key" /></th>
      <th><T k="doc_action" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>Enter</code> / <code>Space</code>
      </td>
      <td><T k="doc_selectbox_key_open" /> Open dropdown / Select highlighted option</td>
    </tr>
    <tr>
      <td>
        <code>Escape</code>
      </td>
      <td><T k="doc_selectbox_key_close" /> Close dropdown</td>
    </tr>
    <tr>
      <td>
        <code>ArrowDown</code>
      </td>
      <td><T k="doc_selectbox_key_next" /> Focus next option</td>
    </tr>
    <tr>
      <td>
        <code>ArrowUp</code>
      </td>
      <td><T k="doc_selectbox_key_prev" /> Focus previous option</td>
    </tr>
    <tr>
      <td>
        <code>Home</code>
      </td>
      <td><T k="doc_selectbox_key_home" /> Focus first option</td>
    </tr>
    <tr>
      <td>
        <code>End</code>
      </td>
      <td><T k="doc_selectbox_key_end" /> Focus last option</td>
    </tr>
  </tbody>
</table>

<p><T k="doc_selectbox_adv_key_skip" /></p>

### <T k="doc_selectbox_adv_comb" />

<p><T k="doc_selectbox_adv_comb_desc" /></p>

```jsx
<Selectbox
  options={groupedOptions}
  grouped
  searchable
  searchPlaceholder="Search all options..."
  onChange={(val) => console.log(val)}
/>
```

## <T k="doc_accessibility" />

<p><T k="doc_selectbox_a11y_desc" /></p>

## <T k="doc_props" />

<Controls />

## <T k="doc_selectbox_ts" />

<p><T k="doc_selectbox_ts_desc" /></p>

```typescript
import { Selectbox, SelectboxOption, SelectboxOptionGroup } from "./Selectbox";
import { T } from "../T";

// Flat options
const options: SelectboxOption[] = [
  { label: "Option 1", value: "opt1" },
  { label: "Option 2", value: "opt2", disabled: true },
];

// Grouped options
const groupedOptions: SelectboxOptionGroup[] = [
  {
    label: "Group 1",
    options: [{ label: "Option 1", value: "opt1" }],
  },
];
```
