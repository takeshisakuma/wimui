import { Canvas, Meta, Controls, Primary, Title, Stories } from "@storybook/addon-docs/blocks";
import * as TableStories from "./Table.stories";
import { T } from "../T";

<Meta of={TableStories} />

<Title />

<p
  style={{
    margin: "0 0 16px 0",
    fontSize: "18px",
    lineHeight: "28px",
    color: "#6c757d",
  }}
>
  <T k="doc_table_title" />
</p>

<p><T k="doc_table_long_desc" /></p>

## <T k="doc_usage_examples" />

### <T k="doc_table_basic" />

<p><T k="doc_table_basic_desc" /></p>

<Primary />

<Controls />

### <T k="doc_table_striped" />

<p><T k="doc_table_striped_desc" /></p>

<Canvas of={TableStories.Striped} />

### <T k="doc_table_bordered" />

<p><T k="doc_table_bordered_desc" /></p>

<Canvas of={TableStories.Bordered} />

### <T k="doc_table_hoverable" />

<p><T k="doc_table_hoverable_desc" /></p>

<Canvas of={TableStories.Hoverable} />

### <T k="doc_table_fullwidth" />

<p><T k="doc_table_fullwidth_desc" /></p>

<Canvas of={TableStories.FullWidth} />

### <T k="doc_table_with_actions" />

<p><T k="doc_table_with_actions_desc" /></p>

<Canvas of={TableStories.WithActions} />

## <T k="doc_features" />

### <T k="doc_table_sticky_header" />

<p><T k="doc_table_sticky_header_desc" /></p>

<Canvas of={TableStories.StickyHeader} />

### <T k="doc_table_scrollbar" />

<p><T k="doc_table_scrollbar_desc" /></p>

- `subtle`: <T k="doc_table_scrollbar_subtle" />
- `hidden`: <T k="doc_table_scrollbar_hidden" />

<Canvas of={TableStories.SubtleScrollbar} />

### <T k="doc_table_sortable" />

<p><T k="doc_table_sortable_desc" /></p>

#### <T k="doc_table_usetablesort" />

<p><T k="doc_table_usetablesort_desc" /></p>

```jsx
import { Table, useTableSort } from "./Table";

function MyTable() {
  const data = [
    { id: 1, name: "Alice", age: 25, email: "alice@example.com" },
    { id: 2, name: "Bob", age: 30, email: "bob@example.com" },
    { id: 3, name: "Charlie", age: 22, email: "charlie@example.com" },
  ];

  const { sortedData, handleSort, getSortDirection } = useTableSort(data);

  return (
    <Table fullWidth>
      <Table.Header>
        <Table.Row>
          <Table.Head
            sortable
            sortDirection={getSortDirection("id")}
            onSort={() => handleSort("id")}
          >
            ID
          </Table.Head>
          <Table.Head
            sortable
            sortDirection={getSortDirection("name")}
            onSort={() => handleSort("name")}
          >
            Name
          </Table.Head>
          <Table.Head
            sortable
            sortDirection={getSortDirection("age")}
            onSort={() => handleSort("age")}
          >
            Age
          </Table.Head>
        </Table.Row>
      </Table.Header>
      <Table.Body>
        {sortedData.map((row) => (
          <Table.Row key={row.id}>
            <Table.Cell>{row.id}</Table.Cell>
            <Table.Cell>{row.name}</Table.Cell>
            <Table.Cell>{row.age}</Table.Cell>
          </Table.Row>
        ))}
      </Table.Body>
    </Table>
  );
}
```

#### <T k="doc_table_usetablesort_features" />

- <T k="doc_table_usetablesort_feature_logic" />
- <T k="doc_table_usetablesort_feature_tri" />
- <T k="doc_table_usetablesort_feature_ts" />
- <T k="doc_table_usetablesort_feature_custom" />

```typescript
const {
  sortedData, // Sorted data
  sortConfig, // Current sort configuration
  handleSort, // Function to execute sort
  getSortDirection, // Get sort direction for a specific key
} = useTableSort(data, {
  initialSort: { key: "name", direction: "asc" },
  onSortChange: (config) => console.log("Sort changed:", config),
});
```

#### <T k="doc_table_sort_manual" />

<p><T k="doc_table_sort_manual_desc" /></p>

<Canvas of={TableStories.Sortable} />

### <T k="doc_table_row_selection" />

<p><T k="doc_table_row_selection_desc" /></p>

<Canvas of={TableStories.RowSelection} />

## <T k="doc_table_ts_support" />

<p><T k="doc_table_ts_support_desc" /></p>

```typescript
import { Table, useTableSort, SortDirection, SortConfig } from "./Table";
import { T } from "../T";

interface User {
  id: number;
  name: string;
  email: string;
}

const { sortedData } = useTableSort<User>(users);
```

## <T k="doc_compound_components" />

<p><T k="doc_table_compound_desc" /></p>

- `Table.Header` (`<thead>`)
- `Table.Body` (`<tbody>`)
- `Table.Footer` (`<tfoot>`)
- `Table.Row` (`<tr>`)
- `Table.Head` (`<th>`)
- `Table.Cell` (`<td>`)

<Stories />
