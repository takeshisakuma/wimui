@use "../../src/tokens/semantic-colors" as colors;
@use "../../src/tokens/semantic-texts" as texts;
@use "../../src/tokens/measure-scales" as scales;
@use "../../src/tokens/effects" as effects;
@use "../../src/lang" as lang;

@layer component {
  .wim-button {
    box-sizing: border-box;
    display: inline-flex;
    gap: scales.$spacing-xs;
    align-items: center;
    justify-content: center;
    padding: 0;
    font: inherit;
    line-height: 1;
    color: inherit;
    cursor: pointer;
    background-color: transparent;
    border: 1px solid transparent;
    border-radius: scales.$radius-md;
    opacity: 1;
    transition: effects.$transition-base;

    &__label {
      display: inline-block;
      line-height: 1;
      vertical-align: middle;
    }

    .wim-icon {
      font-size: 0.7em;
    }

    &--icon-only {
      width: auto;
      height: auto;
      padding: scales.$spacing-sm !important;
    }

    &--lg {
      min-width: calc(texts.$size-large * 1 + 2 * scales.$spacing-xl);
      min-height: calc(texts.$size-large * 1 + 2 * scales.$spacing-xl);
      padding: scales.$spacing-xl scales.$spacing-3xl;
      font-size: texts.$size-large;
    }

    &--md {
      min-width: calc(texts.$size-medium * 1 + 2 * scales.$spacing-lg);
      min-height: calc(texts.$size-medium * 1 + 2 * scales.$spacing-lg);
      padding: scales.$spacing-lg scales.$spacing-2xl;
      font-size: texts.$size-medium;
    }

    &--sm {
      min-width: calc(texts.$size-small * 1 + 2 * scales.$spacing-sm);
      min-height: calc(texts.$size-small * 1 + 2 * scales.$spacing-sm);
      padding: scales.$spacing-sm scales.$spacing-lg;
      font-size: texts.$size-small;
    }

    &--primary {
      box-shadow: effects.$shadow-sm;

      &.wim-button--default {
        color: colors.$semantic-text-on-primary;
        background-color: colors.$semantic-primary;
      }

      &.wim-button--danger {
        color: colors.$semantic-text-on-danger;
        background-color: colors.$semantic-danger;
      }

      &.wim-button--success {
        color: colors.$semantic-text-on-success;
        background-color: colors.$semantic-success;
      }

      &:disabled {
        color: colors.$semantic-text-on-disabled;
        background-color: colors.$semantic-disabled;
        border-color: transparent;
        box-shadow: none;
      }

      &:hover:not(:disabled) {
        box-shadow: effects.$shadow-lg;
        transform: translateY(effects.$lift-md);
      }

      &:active:not(:disabled) {
        box-shadow: effects.$shadow-xs;
        transform: translateY(effects.$lift-none);
      }
    }

    &--secondary {
      &.wim-button--default {
        color: colors.$semantic-primary;
        background-color: #fff;
        border-color: colors.$semantic-primary;
      }

      &.wim-button--danger {
        color: colors.$semantic-danger;
        background-color: #fff;
        border-color: colors.$semantic-danger;
      }

      &.wim-button--success {
        color: colors.$semantic-success;
        background-color: #fff;
        border-color: colors.$semantic-success;
      }

      &:disabled {
        color: colors.$semantic-disabled;
        background-color: transparent;
        border-color: colors.$semantic-disabled;
      }

      &:hover:not(:disabled) {
        box-shadow: effects.$shadow-md;
        transform: translateY(effects.$lift-sm);
      }

      &:active:not(:disabled) {
        box-shadow: effects.$shadow-inset;
        transform: translateY(effects.$lift-none);
      }
    }

    &--tertiary {
      background-color: transparent;
      border-color: transparent;

      &.wim-button--default {
        color: colors.$semantic-primary;
      }

      &.wim-button--danger {
        color: colors.$semantic-danger;
      }

      &.wim-button--success {
        color: colors.$semantic-success;
      }

      &:disabled {
        color: colors.$semantic-disabled;
        background-color: transparent;
        border-color: transparent;
      }

      &:hover:not(:disabled) {
        background-color: rgb(0 0 0 / 0.05);
      }
    }

    &:disabled {
      cursor: not-allowed;
    }

    &:active:not(:disabled) {
      transform: scale(effects.$scale-active);
    }
  }
}
