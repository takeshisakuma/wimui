@use "pccs-colors" as *;

/* --- 色の意味 --- */
$color-destructive: $pccs-s1;
$color-positive: $pccs-s12;
$color-caution: $pccs-s8;
$color-primary: $pccs-s16;
$color-secondary: $pccs-gy6-5;
$color-informative: $pccs-s18;
$color-disabled: $pccs-gy8-5;
$color-bg-primary: $pccs-w;
$color-bg-secondary: $pccs-gy8-5;

/* --- フォーカス状態の色 --- */
$color-focus-outline: $color-primary;

/* --- セマンティックカラー上のテキスト、アイコンの色 --- */
$color-text-on-destructive: $pccs-w;
$color-text-on-positive: $pccs-w;
$color-text-on-caution: $pccs-bk;
$color-text-on-primary: $pccs-w;
$color-text-on-secondary: $pccs-bk;
$color-text-on-informative: $pccs-w;
$color-text-on-disabled: $pccs-gy3-5;

/* ---- 文字色 (SCSS変数 - ライトモードデフォルト) ---- */

/* 無彩色 */
$text-black: $pccs-bk;
$text-deepgray: $pccs-gy3-5;
$text-gray: $pccs-gy5-5;
$text-lightgray: $pccs-gy7-5;
$text-white: $pccs-w;

/* 有彩色 */

/* エラー表示など */
$text-error: $pccs-s2;

/* Scrollareaコンポーネントのスクロールバーの色 */
$scrollbar-thumb: $pccs-s20;

/* スクロールバーのつまみ部分の色 */
$scrollbar-track: $pccs-gy8-5;

/* --- 変数としての定義 (基本はライトモード) --- */
:root {
  --color-destructive: #{$color-destructive};
  --color-positive: #{$color-positive};
  --color-caution: #{$color-caution};
  --color-primary: #{$color-primary};
  --color-secondary: #{$color-secondary};
  --color-informative: #{$color-informative};
  --color-disabled: #{$color-disabled};
  --color-text-on-primary: #{$color-text-on-primary};
  --color-text-on-destructive: #{$color-text-on-destructive};
  --color-text-on-positive: #{$color-text-on-positive};
  --color-text-on-caution: #{$color-text-on-caution};
  --color-text-on-secondary: #{$color-text-on-secondary};
  --color-text-on-informative: #{$color-text-on-informative};
  --color-text-on-disabled: #{$color-text-on-disabled};
  --text-primary: #{$text-black};
  --text-secondary: #{$text-deepgray};
  --text-tertiary: #{$text-gray};
  --text-disabled: #{$text-lightgray};
  --text-white: #{$text-white};
  --text-error: #{$text-error};
  --bg-app: #{$pccs-w}; // アプリ全体の背景
  --bg-component: #{$pccs-w};
  --wim-color-bg-primary: #{$color-bg-primary};
  --wim-color-bg-secondary: #{$color-bg-secondary};
  --wim-color-bg-hover: rgba(0, 0, 0, 0.05); // Standard hover color
  --wim-color-border: #{$pccs-gy7-5};
  --wim-color-border-secondary: #{$pccs-gy8-5};
  --color-focus-outline: #{$color-focus-outline};
  --scrollbar-thumb: #{$scrollbar-thumb};
  --scrollbar-track: #{$scrollbar-track};

  /* Aliases for consistency across components */
  --wim-color-primary: var(--color-primary);
  --wim-color-primary-hover: rgba(var(--pccs-v16-rgb), 0.9);
  --wim-color-primary-active: rgba(var(--pccs-v16-rgb), 0.8);
  --wim-color-primary-light: rgba(var(--pccs-v16-rgb), 0.1);
  --wim-color-secondary: var(--color-secondary);
  --wim-color-text-primary: var(--text-primary);
  --wim-color-text-secondary: var(--text-secondary);
  --wim-color-text-tertiary: var(--text-tertiary);
  --wim-color-text-disabled: var(--text-disabled);
  --wim-color-text-placeholder: var(--text-tertiary);
  --wim-color-text-on-primary: var(--color-text-on-primary);
  --wim-color-text-on-secondary: var(--color-text-on-secondary);
  --wim-color-surface: var(--bg-component);
  --wim-color-surface-variant: var(--wim-color-bg-secondary);
  --wim-color-surface-hover: var(--wim-color-bg-hover);
  --wim-color-primary-container-alpha: rgba(0, 122, 255, 0.08);
  --wim-color-surface-variant-alpha: rgba(0, 0, 0, 0.02);
  --wim-color-bg-tertiary: #{$pccs-gy7-5};
  --wim-color-bg-component: var(--bg-component);
  --wim-color-overlay-bg: rgba(0, 0, 0, 0.5);
  --wim-color-overlay-bg-light: rgba(255, 255, 255, 0.8);
  --wim-color-overlay-bg-dark: rgba(0, 0, 0, 0.7);
  --wim-color-text-on-overlay: #fff;
}


@mixin dark-theme {
  /* Dark Mode Overrides */
  --bg-app: #{$pccs-gy2-5}; // Dark Gray Background
  --bg-component: #{$pccs-gy3-5}; // Slightly Lighter Component BG
  --text-primary: #{$pccs-w}; // White Text
  --text-secondary: #{$pccs-gy7-5}; // Light Gray Text
  --text-tertiary: #{$pccs-gy6-5}; // Medium Gray Text
  --text-disabled: #{$pccs-gy5-5}; // Darker Gray Text
  --wim-color-bg-primary: #{$pccs-gy3-5};
  --wim-color-bg-secondary: #{$pccs-gy4-5};
  --wim-color-bg-tertiary: #{$pccs-gy4-5};
  --wim-color-bg-hover: rgba(255, 255, 255, 0.1); // Hover color for dark mode
  --wim-color-border: #{$pccs-gy5-5}; // Medium Gray Border
  --wim-color-border-secondary: #{$pccs-gy4-5}; // Darker Gray Border
  --scrollbar-thumb: #{$pccs-gy5-5};
  --scrollbar-track: #{$pccs-gy3-5};
  --wim-color-primary-container-alpha: rgba(0, 122, 255, 0.2);
  --wim-color-surface-variant-alpha: rgba(255, 255, 255, 0.05);
  --wim-color-primary-hover: rgba(var(--pccs-v16-rgb), 1);
  --wim-color-primary-light: rgba(var(--pccs-v16-rgb), 0.2);
  --wim-color-overlay-bg: rgba(0, 0, 0, 0.7);
  --wim-color-overlay-bg-light: rgba(255, 255, 255, 0.2);
  --wim-color-overlay-bg-dark: rgba(0, 0, 0, 0.8);
  --shadow-color: rgba(0, 0, 0, 0.4);

  /* Adjust semantic colors for dark mode visibility/contrast */
  --color-destructive: #{$pccs-v2};
  --color-positive: #{$pccs-v12};
  --color-caution: #{$pccs-v7};
  --color-informative: #{$pccs-v17};
  --color-primary: #{$pccs-v16};

  /* Ensure aliases are also updated if they reference these */
  --wim-color-primary: var(--color-primary);
}

[data-theme="dark"] {
  @include dark-theme;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    @include dark-theme;
  }
}