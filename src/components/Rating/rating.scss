.wim-rating {
  display: inline-flex;
  align-items: center;

  // サイズ指定用の変数
  &--small {
    --wim-rating-star-size: 16px;

    gap: 2px;
  }

  &--medium {
    --wim-rating-star-size: 24px;

    gap: 4px;
  }

  &--large {
    --wim-rating-star-size: 32px;

    gap: 6px;
  }

  &__star {
    position: relative;
    display: block; // ブロック要素として扱う
    width: var(--wim-rating-star-size);
    height: var(--wim-rating-star-size);
    cursor: pointer;
    transition: transform 0.2s ease;

    &:hover {
      transform: scale(1.1);
    }

    &-background {
      color: var(--wim-color-gray-300, #e0e0e0);

      .wim-icon {
        display: block;
        width: var(--wim-rating-star-size) !important;
        height: var(--wim-rating-star-size) !important;
        fill: currentcolor;
      }
    }

    &-foreground {
      position: absolute;
      top: 0;
      left: 0;
      width: 0;
      height: 100%;
      overflow: hidden;
      color: var(--wim-color-warning, #f59e0b);
      white-space: nowrap;
      pointer-events: none; // クリック判定は親で行う
      transition: width 0.2s ease;

      .wim-icon {
        display: block;
        width: var(--wim-rating-star-size) !important;
        min-width: var(--wim-rating-star-size) !important; // 縮小防止
        height: var(--wim-rating-star-size) !important;
        fill: currentcolor;
      }
    }

    &--full &-foreground {
      width: 100%;
    }

    &--half &-foreground {
      width: 50%;
    }
  }

  &--disabled {
    pointer-events: none;

    .wim-rating__star {
      cursor: default;

      &-foreground {
        color: var(--wim-color-gray-400, #9ca3af);
      }
    }
  }
}
