@use "../../tokens/semantic-colors" as colors;
@use "../../tokens/typography" as typography;
@use "../../tokens/spacings" as spacings;
@use "../../tokens/effects" as effects;

.wim-segmented-control {
    position: relative;
    display: inline-grid;
    grid-auto-columns: 1fr;
    grid-auto-flow: column;
    padding: 2px;
    overflow: hidden;
    user-select: none;
    background-color: rgb(0 0 0 / 0.05);
    border-radius: spacings.$radius-md;

    &.wim-segmented-control--full-width {
        display: grid;
        width: 100%;
    }

    .wim-segmented-control__slider {
        position: absolute;
        top: 2px;
        bottom: 2px;
        left: 2px;
        z-index: 1;
        background-color: #fff;
        border-radius: calc(spacings.$radius-md - 2px);
        box-shadow: effects.$shadow-sm;
        transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);


    }

    .wim-segmented-control__item {
        position: relative;
        z-index: 2;
        display: flex;
        gap: spacings.$spacing-xs;
        align-items: center;
        justify-content: center;
        font: inherit;
        font-weight: typography.$weight-medium;
        color: colors.$text-deepgray;
        min-width: 0;
        cursor: pointer;
        background: none;
        border: none;
        transition: color 0.2s ease;

        &:hover {
            color: colors.$text-black;
        }

        &.wim-segmented-control__item--active {
            color: colors.$color-primary;

        }

        &.wim-segmented-control__item--icon-only {
            padding-right: 0 !important;
            padding-left: 0 !important;
        }
    }

    .wim-icon {
        font-size: 0.7em; // Buttonコンポーネントと一貫性を持たせる
    }

    &.wim-segmented-control--sm {
        .wim-segmented-control__item {
            padding: spacings.$spacing-xs spacings.$spacing-md;
            font-size: typography.$size-small;

            &.wim-segmented-control__item--icon-only {
                width: 30px;
                padding: spacings.$spacing-xs 0 !important;
            }
        }
    }

    &.wim-segmented-control--md {
        .wim-segmented-control__item {
            padding: spacings.$spacing-sm spacings.$spacing-lg;
            font-size: typography.$size-medium;

            &.wim-segmented-control__item--icon-only {
                width: 36px;
                padding: spacings.$spacing-sm 0 !important;
            }
        }
    }

    &.wim-segmented-control--lg {
        .wim-segmented-control__item {
            padding: spacings.$spacing-md spacings.$spacing-xl;
            font-size: typography.$size-large;

            &.wim-segmented-control__item--icon-only {
                width: 44px;
                padding: spacings.$spacing-md 0 !important;
            }
        }
    }

    .wim-segmented-control__label {
        display: block;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        line-height: typography.$line-height-normal-latn;
    }
}