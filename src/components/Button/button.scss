@layer component {
  .wim-button {
    position: relative;
    box-sizing: border-box;
    display: inline-grid;
    grid-template-areas: "stack";
    place-items: center;
    padding: 0;
    font: inherit;
    font-weight: var(--font-weight-medium);
    line-height: 1.2;
    color: inherit;
    cursor: pointer;
    background-color: transparent;
    border: 2px solid transparent;
    border-radius: var(--radius-md);
    opacity: 1;
    transition: var(--transition-base);

    &:active:not(:disabled) {
      transform: scale(var(--scale-active));
    }

    &__inner {
      display: flex;
      grid-area: stack;
      gap: var(--spacing-xs);
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
    }

    &__loader {
      display: flex;
      grid-area: stack;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
    }

    &__label {
      display: block;
      min-width: 0;
      padding: 4px 0;
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: 1.4;
      white-space: nowrap;
    }

    &--icon-only {
      width: auto;
      height: auto;
      padding: var(--spacing-sm) !important;
    }

    &--lg {
      min-width: calc(var(--font-size-large) * 1 + 2 * var(--spacing-xl));
      min-height: calc(var(--font-size-large) * 1 + 2 * var(--spacing-xl));
      padding: var(--spacing-xl) var(--spacing-3xl);
      font-size: var(--font-size-large);
    }

    &--md {
      min-width: calc(var(--font-size-medium) * 1 + 2 * var(--spacing-lg));
      min-height: calc(var(--font-size-medium) * 1 + 2 * var(--spacing-lg));
      padding: var(--spacing-lg) var(--spacing-2xl);
      font-size: var(--font-size-medium);
    }

    &--sm {
      min-width: calc(var(--font-size-small) * 1 + 2 * var(--spacing-sm));
      min-height: calc(var(--font-size-small) * 1 + 2 * var(--spacing-sm));
      padding: var(--spacing-sm) var(--spacing-lg);
      font-size: var(--font-size-small);
    }

    &--primary {
      box-shadow: var(--shadow-sm);

      &.wim-button--default {
        color: var(--color-text-on-primary);
        background-color: var(--color-primary);
      }

      &.wim-button--destructive {
        color: var(--color-text-on-destructive);
        background-color: var(--color-destructive);
      }

      &.wim-button--positive {
        color: var(--color-text-on-positive);
        background-color: var(--color-positive);
      }

      &:disabled {
        color: var(--color-text-on-disabled);
        background-color: var(--color-disabled);
        border-color: transparent;
        box-shadow: none;
      }

      &:hover:not(:disabled) {
        box-shadow: var(--shadow-lg);
        transform: translateY(var(--lift-md));
      }

      &:active:not(:disabled) {
        box-shadow: var(--shadow-xs);
        transform: translateY(var(--lift-none));
      }
    }

    &--secondary {
      &.wim-button--default {
        color: var(--color-primary);
        background-color: var(--wim-color-bg-primary);
        border-color: var(--color-primary);
      }

      &.wim-button--destructive {
        color: var(--color-destructive);
        background-color: var(--wim-color-bg-primary);
        border-color: var(--color-destructive);
      }

      &.wim-button--positive {
        color: var(--color-positive);
        background-color: var(--wim-color-bg-primary);
        border-color: var(--color-positive);
      }

      &:disabled {
        color: var(--color-disabled);
        background-color: transparent;
        border-color: var(--color-disabled);
      }

      &:hover:not(:disabled) {
        box-shadow: var(--shadow-md);
        transform: translateY(var(--lift-sm));
      }

      &:active:not(:disabled) {
        box-shadow: var(--shadow-inset);
        transform: translateY(var(--lift-none));
      }
    }

    &--tertiary {
      background-color: rgb(0 0 0 / 0.03);
      border-color: rgb(0 0 0 / 0.08);

      &.wim-button--default {
        color: var(--color-primary);
      }

      &.wim-button--destructive {
        color: var(--color-destructive);
      }

      &.wim-button--positive {
        color: var(--color-positive);
      }

      &:disabled {
        color: var(--color-disabled);
        background-color: transparent;
        border-color: transparent;
      }

      &:hover:not(:disabled) {
        background-color: rgb(0 0 0 / 0.06);
        border-color: rgb(0 0 0 / 0.15);
        box-shadow: var(--shadow-sm);
        transform: translateY(var(--lift-sm));
      }

      &:active:not(:disabled) {
        background-color: rgb(0 0 0 / 0.12);
        border-color: rgb(0 0 0 / 0.25);
        box-shadow: var(--shadow-inset);
        transform: translateY(var(--lift-none));
      }
    }

    &:disabled {
      pointer-events: none;
      cursor: not-allowed;
    }

    &--loading {
      pointer-events: none;
    }
  }
}
