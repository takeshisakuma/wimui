import { Meta } from "@storybook/blocks";

<Meta title="Components/Selection Controls" />

# 選択系コンポーネントの使い分け

ユーザーに値を選択させる際、選択肢の数や入力の性質に応じて最適な形式を選択します。

## 比較表

<table>
  <thead>
    <tr>
      <th>コンポーネント</th>
      <th>選択可能数</th>
      <th>選択肢の数</th>
      <th>即時反映</th>
      <th>判断のポイント</th>
      <th>主な用途</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Switch</strong>
      </td>
      <td>1つ (ON/OFF)</td>
      <td>-</td>
      <td>○</td>
      <td>
        <strong>設定を即座に反映させたい</strong>
      </td>
      <td>Wi-Fi, ダークモード, 通知設定の即時変更</td>
    </tr>
    <tr>
      <td>
        <strong>SwitchGroup</strong>
      </td>
      <td>複数</td>
      <td>少数 (2〜10)</td>
      <td>○</td>
      <td>
        <strong>複数の設定を即座に反映させたい</strong>
      </td>
      <td>複数の通知設定の即時変更など</td>
    </tr>
    <tr>
      <td>
        <strong>Checkbox</strong>
      </td>
      <td>単一 または 複数</td>
      <td>少数 (2〜10)</td>
      <td>×</td>
      <td>
        <strong>「保存」や「送信」ボタンで確定させたい</strong>
      </td>
      <td>設定のオンオフ、利用規約同意</td>
    </tr>
    <tr>
      <td>
        <strong>CheckboxGroup</strong>
      </td>
      <td>複数</td>
      <td>少数〜中程度</td>
      <td>×</td>
      <td>
        <strong>「保存」や「送信」ボタンで複数の値を一括で確定させたい</strong>
      </td>
      <td>複数フィルタの指定など</td>
    </tr>
    <tr>
      <td>
        <strong>Radio</strong>
      </td>
      <td>単一</td>
      <td>少数 (2〜5)</td>
      <td>×</td>
      <td>
        <strong>少数の候補から1つだけ選び、後で送信したい</strong>
      </td>
      <td>個別の選択肢（グループ化せずに単独で配置する場合）</td>
    </tr>
    <tr>
      <td>
        <strong>RadioGroup</strong>
      </td>
      <td>単一</td>
      <td>少数 (2〜5)</td>
      <td>×</td>
      <td>
        <strong>少数の候補から1つだけ選び、後で送信したい</strong>
      </td>
      <td>支払い方法、配送日時、ソート順の指定</td>
    </tr>
    <tr>
      <td>
        <strong>Segmented Control</strong>
      </td>
      <td>単一</td>
      <td>少数 (2〜5)</td>
      <td>○</td>
      <td>
        <strong>表示モードやフィルタをその場で切り替えたい</strong>
      </td>
      <td>ビュー切替（グリッド/リスト）、期間切替（週/月）</td>
    </tr>
    <tr>
      <td>
        <strong>Select</strong>
      </td>
      <td>単一</td>
      <td>中〜多数 (5〜20)</td>
      <td>×</td>
      <td>
        <strong>場所を取らずに、中規模のリストから選びたい</strong>
      </td>
      <td>都道府県、カテゴリー選択、ステータス変更</td>
    </tr>
    <tr>
      <td>
        <strong>Combobox</strong>
      </td>
      <td>単一</td>
      <td>多数 (20〜)</td>
      <td>×</td>
      <td>
        <strong>膨大なデータから検索して絞り込みたい</strong>
      </td>
      <td>市区町村、ユーザー検索、商品検索</td>
    </tr>
    <tr>
      <td>
        <strong>MultiSelect</strong>
      </td>
      <td>複数</td>
      <td>中〜多数</td>
      <td>×</td>
      <td>
        <strong>複数の項目をリストから選びたい</strong>
      </td>
      <td>タグ付け、参加者選択</td>
    </tr>
    <tr>
      <td>
        <strong>Chip</strong>
      </td>
      <td>単一 / 複数</td>
      <td>少数</td>
      <td>○ / ×</td>
      <td>
        <strong>視覚的に強調された形式でタグの表示や選択を行いたい</strong>
      </td>
      <td>タグの追加・削除、情報のフィルタリング</td>
    </tr>
    <tr>
      <td>
        <strong>ToggleGroup</strong>
      </td>
      <td>単一 / 複数</td>
      <td>少数</td>
      <td>○</td>
      <td>
        <strong>視覚的に強調されたボタン形式で選びたい</strong>
      </td>
      <td>フィルタ条件、モード切替、サイズ選択</td>
    </tr>
  </tbody>
</table>

---

## デザインとアクセシビリティの原則

### 選択の性質と役割

<table>
  <thead>
    <tr>
      <th>分類</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>ラジオボタン (Radio)</strong>
      </td>
      <td>
        常に1つだけ選択可能です。いずれかの項目が必ず選択されている必要があります。
      </td>
    </tr>
    <tr>
      <td>
        <strong>チェックボックス (Checkbox)</strong>
      </td>
      <td>
        0個以上の複数選択が可能です。各項目が独立しており、どれも選ばないという選択も可能です。
      </td>
    </tr>
    <tr>
      <td>
        <strong>スイッチ (Switch)</strong>
      </td>
      <td>
        2つの状態（オン/オフ）を切り替えます。設定の有効化・無効化という「バイナリな状態」を示すのに最適です。
      </td>
    </tr>
  </tbody>
</table>

### 反映のタイミング (Timing)

<table>
  <thead>
    <tr>
      <th>タイミング</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>即時反映 (Immediate)</strong>
      </td>
      <td>
        スイッチや Segmented Control
        は、操作した瞬間に設定が保存されたり画面が切り替わったりする場合に使用します。
      </td>
    </tr>
    <tr>
      <td>
        <strong>確認後に反映 (Deferred)</strong>
      </td>
      <td>
        ラジオボタンやチェックボックスは、通常「保存」や「送信」ボタンを押して初めて状態が確定するフォーム形式で使用します。
      </td>
    </tr>
  </tbody>
</table>

### 実装上の注意点

<table>
  <thead>
    <tr>
      <th>項目</th>
      <th>ガイドライン</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>デフォルト値</strong>
      </td>
      <td>
        ラジオボタンは「通常配送」などの推奨値をあらかじめ選択しておくのが一般的です。チェックボックスは基本「未選択」をデフォルトとします。
      </td>
    </tr>
    <tr>
      <td>
        <strong>レイアウト</strong>
      </td>
      <td>
        選択肢は横に並べるよりも、<strong>垂直に並べる</strong>
        ほうが視線の移動がスムーズで、モバイルでのタップミスも減らせます。
      </td>
    </tr>
    <tr>
      <td>
        <strong>アクセシビリティ</strong>
      </td>
      <td>
        ラベルテキスト自体もクリック（タップ）可能にし、ヒットエリアを十分に確保してください。
      </td>
    </tr>
  </tbody>
</table>

---

## 具体的ユースケース

<table>
  <thead>
    <tr>
      <th>コンポーネント</th>
      <th>具体的ユースケース</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Radio Button</strong>
      </td>
      <td>支払い方法（クレカ/銀行）、並び替え順（安い順/高い順）、配送日時</td>
    </tr>
    <tr>
      <td>
        <strong>Checkbox</strong>
      </td>
      <td>
        フィルター条件（色・サイズ）、通知設定（メルマガ/新機能）、利用規約の同意
      </td>
    </tr>
    <tr>
      <td>
        <strong>Switch</strong>
      </td>
      <td>
        Wi-FiやBluetoothのON/OFF、ダークモードの切り替え、通知の即時有効化
      </td>
    </tr>
    <tr>
      <td>
        <strong>Segmented Control</strong>
      </td>
      <td>
        表示形式の切り替え（例：週間/月間）、ソート順の変更（例：昇順/降順）
      </td>
    </tr>
  </tbody>
</table>

---

## Segmented Control の使い分け

Segmented Control は他のコンポーネントと役割が似ているため、適切な使い分けが重要です。

### Segmented Control vs Button Group (joined)

<table>
  <thead>
    <tr>
      <th>コンポーネント</th>
      <th>役割</th>
      <th>典型的な挙動</th>
      <th>具体的シーン</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Segmented Control</strong>
      </td>
      <td>
        <strong>選択</strong>
      </td>
      <td>値や表示モードの切り替え。常にいずれか1つが選択されている。</td>
      <td>
        「週間 / 月間 表示」「昇順 / 降順
        ソート」など、ある1つの状態を決定・変更するとき。
      </td>
    </tr>
    <tr>
      <td>
        <strong>Button Group (joined)</strong>
      </td>
      <td>
        <strong>アクション</strong>
      </td>
      <td>関連する複数の操作のグループ化。押すと何かが実行される。</td>
      <td>
        「保存 / 複製 / 削除」「編集 /
        削除」など、独立した実行ボタンをグループ化したいとき。
      </td>
    </tr>
  </tbody>
</table>

### Segmented Control vs Dropdown Menu

<table>
  <thead>
    <tr>
      <th>項目</th>
      <th>Segmented Control</th>
      <th>Dropdown Menu</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>操作</td>
      <td>ワンタップで切り替え</td>
      <td>タップしてリストを開く必要あり</td>
    </tr>
    <tr>
      <td>選択肢</td>
      <td>常に見えている</td>
      <td>隠れている</td>
    </tr>
    <tr>
      <td>適した数</td>
      <td>2〜5個</td>
      <td>5個以上</td>
    </tr>
  </tbody>
</table>

### Segmented Control vs Tabs

<table>
  <thead>
    <tr>
      <th>項目</th>
      <th>Segmented Control</th>
      <th>Tabs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>目的</td>
      <td>同一コンテンツ内でのフィルタリングや表示形式の切り替え</td>
      <td>異なる画面(コンテンツ)間を移動する</td>
    </tr>
    <tr>
      <td>スコープ</td>
      <td>画面内の一部、詳細な調整</td>
      <td>アプリの主要ナビゲーション、大きな単位の切り替え</td>
    </tr>
    <tr>
      <td>重複</td>
      <td>各セグメント間でコンテンツが重複することもある</td>
      <td>各タブは専用のコンテンツを持ち、通常は重複しない</td>
    </tr>
    <tr>
      <td>例</td>
      <td>プロジェクト内の「未完了/完了」フィルタ</td>
      <td>「ダッシュボード」「メッセージ」「設定」の切り替え</td>
    </tr>
  </tbody>
</table>

### 迷った時の判断基準

<table>
  <thead>
    <tr>
      <th>項目</th>
      <th>Segmented Control が適しているケース</th>
      <th>代わりのUI（推奨）</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>選択肢の数</td>
      <td>2〜5個程度</td>
      <td>5個以上なら ドロップダウン または 横スクロールタブ</td>
    </tr>
    <tr>
      <td>選択の性質</td>
      <td>「どれか1つ」を選ぶ（排他的）</td>
      <td>複数選びたいなら チェックボックス や チップス</td>
    </tr>
    <tr>
      <td>影響範囲</td>
      <td>画面内の一部、または表示形式の変更</td>
      <td>画面自体を大きく移動するなら ボトムナビゲーション</td>
    </tr>
    <tr>
      <td>即時性</td>
      <td>選んだ瞬間に結果が反映されるべき</td>
      <td>送信ボタンを押すまで確定させたくないなら ラジオボタン</td>
    </tr>
  </tbody>
</table>
