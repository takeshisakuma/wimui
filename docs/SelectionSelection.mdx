import { Meta } from "@storybook/blocks";
import { T } from "../stories/T";

<Meta title="Guides/Selection Controls" />

# 選択系コンポーネントの使い分け

ユーザーに値を選択させる際、選択肢の数や入力の性質に応じて最適な形式を選択します。

## 比較表

<table>
  <thead>
    <tr>
      <th>コンポーネント</th>
      <th>選択形式</th>
      <th>選択肢の数</th>
      <th>即時反映</th>
      <th>主な用途</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Checkbox</strong></td>
      <td>複数選択可</td>
      <td>少数 (2〜10)</td>
      <td>×</td>
      <td>設定のオンオフ、リストからの複数選択</td>
    </tr>
    <tr>
      <td><strong>Radio</strong></td>
      <td>単一選択</td>
      <td>少数 (2〜5)</td>
      <td>×</td>
      <td>排他的な選択肢からの1つ選択</td>
    </tr>
    <tr>
      <td><strong>Switch</strong></td>
      <td>オン/オフ</td>
      <td>1つ</td>
      <td>○</td>
      <td>即座に反映される設定の切り替え</td>
    </tr>
    <tr>
      <td><strong>Select</strong></td>
      <td>単一選択</td>
      <td>中〜多数 (5〜)</td>
      <td>×</td>
      <td>フォーム内での場所を取らない1つ選択</td>
    </tr>
    <tr>
      <td><strong>Combobox</strong></td>
      <td>単一選択</td>
      <td>多数 (20〜)</td>
      <td>×</td>
      <td>検索を伴う選択、候補からの補完入力</td>
    </tr>
    <tr>
      <td><strong>Segmented Control</strong></td>
      <td>単一選択</td>
      <td>少数 (2〜5)</td>
      <td>○</td>
      <td>表示の切り替え、モードの変更</td>
    </tr>
  </tbody>
</table>

---

## <T k="guide_rvc_selection_title" />
<table>
  <thead>
    <tr>
      <th><T k="table_header_component" /></th>
      <th><T k="table_header_description" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><T k="term_radio" /></td>
      <td><T k="guide_rvc_selection_radio" /></td>
    </tr>
    <tr>
      <td><T k="term_checkbox" /></td>
      <td><T k="guide_rvc_selection_checkbox" /></td>
    </tr>
    <tr>
      <td><T k="term_switch" /></td>
      <td><T k="guide_rvc_selection_switch" /></td>
    </tr>
  </tbody>
</table>

## <T k="guide_rvc_design_title" />
<table>
  <thead>
    <tr>
      <th><T k="table_header_component" /></th>
      <th><T k="table_header_description" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><T k="term_radio" /></td>
      <td><T k="guide_rvc_design_radio" /></td>
    </tr>
    <tr>
      <td><T k="term_checkbox" /></td>
      <td><T k="guide_rvc_design_checkbox" /></td>
    </tr>
    <tr>
      <td><T k="term_switch" /></td>
      <td><T k="guide_rvc_design_switch" /></td>
    </tr>
  </tbody>
</table>

---

## <T k="guide_rvc_timing_title" />
<table>
  <thead>
    <tr>
      <th><T k="table_header_component" /></th>
      <th><T k="table_header_timing" /></th>
      <th><T k="table_header_flow" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><T k="term_radio" /></td>
      <td><T k="timing_immediate" /></td>
      <td><T k="flow_radio" /></td>
    </tr>
    <tr>
      <td><T k="term_checkbox" /></td>
      <td><T k="timing_deferred" /></td>
      <td><T k="flow_checkbox" /></td>
    </tr>
    <tr>
      <td><T k="term_switch" /></td>
      <td><T k="timing_immediate" /></td>
      <td><T k="flow_switch" /></td>
    </tr>
  </tbody>
</table>

---

## Use Cases
<table>
  <thead>
    <tr>
      <th>コンポーネント</th>
      <th>具体的ユースケース</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Radio Button</strong></td>
      <td><T k="guide_rvc_usage_radio" /></td>
    </tr>
    <tr>
      <td><strong>Checkbox</strong></td>
      <td><T k="guide_rvc_usage_checkbox" /></td>
    </tr>
    <tr>
      <td><strong>Switch</strong></td>
      <td><T k="guide_rvc_usage_switch" /></td>
    </tr>
    <tr>
      <td><strong>Segmented Control</strong></td>
      <td>表示形式の切り替え（例：週間/月間）、ソート順の変更（例：昇順/降順）</td>
    </tr>
  </tbody>
</table>

---

## <T k="guide_rvc_implementation_note" />
<table>
  <thead>
    <tr>
      <th>項目</th>
      <th>ガイドライン</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Default Value</strong></td>
      <td><T k="guide_rvc_note_default" /></td>
    </tr>
    <tr>
      <td><strong>Layout</strong></td>
      <td><T k="guide_rvc_note_vertical" /></td>
    </tr>
  </tbody>
</table>

---

## Segmented Control の使い分け

Segmented Control は他のコンポーネントと役割が似ているため、適切な使い分けが重要です。

### Segmented Control vs Button Group (joined)

<table>
  <thead>
    <tr>
      <th>コンポーネント</th>
      <th>役割</th>
      <th>典型的な挙動</th>
      <th>具体的シーン</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Segmented Control</strong></td>
      <td><strong>選択</strong></td>
      <td>値や表示モードの切り替え。常にいずれか1つが選択されている。</td>
      <td>「週間 / 月間 表示」「昇順 / 降順 ソート」など、ある1つの状態を決定・変更するとき。</td>
    </tr>
    <tr>
      <td><strong>Button Group (joined)</strong></td>
      <td><strong>アクション</strong></td>
      <td>関連する複数の操作のグループ化。押すと何かが実行される。</td>
      <td>「保存 / 複製 / 削除」「編集 / 削除」など、独立した実行ボタンをグループ化したいとき。</td>
    </tr>
  </tbody>
</table>

### Segmented Control vs Dropdown Menu

<table>
  <thead>
    <tr>
      <th>項目</th>
      <th>Segmented Control</th>
      <th>Dropdown Menu</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>操作</td>
      <td>ワンタップで切り替え</td>
      <td>タップしてリストを開く必要あり</td>
    </tr>
    <tr>
      <td>選択肢</td>
      <td>常に見えている</td>
      <td>隠れている</td>
    </tr>
    <tr>
      <td>適した数</td>
      <td>2〜5個</td>
      <td>5個以上</td>
    </tr>
  </tbody>
</table>

### Segmented Control vs Tabs

<table>
  <thead>
    <tr>
      <th>項目</th>
      <th>Segmented Control</th>
      <th>Tabs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>目的</td>
      <td>同一コンテンツ内でのフィルタリングや表示形式の切り替え</td>
      <td>異なる画面(コンテンツ)間を移動する</td>
    </tr>
    <tr>
      <td>スコープ</td>
      <td>画面内の一部、詳細な調整</td>
      <td>アプリの主要ナビゲーション、大きな単位の切り替え</td>
    </tr>
    <tr>
      <td>重複</td>
      <td>各セグメント間でコンテンツが重複することもある</td>
      <td>各タブは専用のコンテンツを持ち、通常は重複しない</td>
    </tr>
    <tr>
      <td>例</td>
      <td>プロジェクト内の「未完了/完了」フィルタ</td>
      <td>「ダッシュボード」「メッセージ」「設定」の切り替え</td>
    </tr>
  </tbody>
</table>

## 迷った時の判断基準

<table>
  <thead>
    <tr>
      <th>項目</th>
      <th>Segmented Control が適しているケース</th>
      <th>代わりのUI（推奨）</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>選択肢の数</td>
      <td>2〜5個程度</td>
      <td>5個以上なら ドロップダウン または 横スクロールタブ</td>
    </tr>
    <tr>
      <td>選択の性質</td>
      <td>「どれか1つ」を選ぶ（排他的）</td>
      <td>複数選びたいなら チェックボックス や チップス</td>
    </tr>
    <tr>
      <td>影響範囲</td>
      <td>画面内の一部、または表示形式の変更</td>
      <td>画面自体を大きく移動するなら ボトムナビゲーション</td>
    </tr>
    <tr>
      <td>即時性</td>
      <td>選んだ瞬間に結果が反映されるべき</td>
      <td>送信ボタンを押すまで確定させたくないなら ラジオボタン</td>
    </tr>
  </tbody>
</table>

---

## 選択のフローチャート

<table>
  <thead>
    <tr>
      <th>条件・質問</th>
      <th>選択肢・結果</th>
      <th>推奨コンポーネント</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td rowspan="2"><strong>1. オン/オフの切り替えか？</strong></td>
      <td>即時反映なら</td>
      <td><strong>Switch</strong></td>
    </tr>
    <tr>
      <td>送信が必要なら</td>
      <td><strong>Checkbox</strong></td>
    </tr>
    <tr>
      <td rowspan="2"><strong>2. 1つだけ選ぶか、複数選ぶか？</strong></td>
      <td>複数選ぶ</td>
      <td><strong>Checkbox Group</strong></td>
    </tr>
    <tr>
      <td>1つだけ選ぶ</td>
      <td>➔ 次へ</td>
    </tr>
    <tr>
      <td rowspan="3"><strong>3. 選択肢の数は？</strong></td>
      <td>少なめ (2-5)</td>
      <td><strong>Radio</strong> または <strong>Segmented Control</strong></td>
    </tr>
    <tr>
      <td>普通 (5-20)</td>
      <td><strong>Select</strong></td>
    </tr>
    <tr>
      <td>多い (20-)</td>
      <td><strong>Combobox</strong></td>
    </tr>
  </tbody>
</table>
