import { Meta } from "@storybook/blocks";
import { T } from "../stories/T";
import { ColorSwatch, ColorGrid } from "../stories/ColorSwatch";
import { ContrastChecker } from "../stories/ContrastChecker";

<Meta title="Token/Colors" />

<style>
  {`
  .section-desc {
    margin-bottom: 24px;
    color: var(--text-secondary, #666);
    font-size: 16px;
    line-height: 1.6;
  }
  .contrast-label {
    font-weight: 700;
    font-size: 18px;
    letter-spacing: 0.05em;
  }
  `}
</style>

<div className="wim-docs-container">
  <h1><T k="guide_colors_title" /></h1>
  <p><T k="guide_colors_desc" /></p>

  <hr />

  <h2><T k="guide_colors_semantic" /></h2>
  <p className="section-desc"><T k="guide_colors_semantic_desc" /></p>
  <ColorGrid>
    <ColorSwatch name="Primary" value="--color-primary" color="var(--color-primary)" />
    <ColorSwatch name="Secondary" value="--color-secondary" color="var(--color-secondary)" />
    <ColorSwatch name="Positive (Success)" value="--color-positive" color="var(--color-positive)" />
    <ColorSwatch name="Caution (Warning)" value="--color-caution" color="var(--color-caution)" />
    <ColorSwatch name="Destructive (Error)" value="--color-destructive" color="var(--color-destructive)" />
    <ColorSwatch name="Informative (Info)" value="--color-informative" color="var(--color-informative)" />
    <ColorSwatch name="Disabled" value="--color-disabled" color="var(--color-disabled)" />
  </ColorGrid>

  <h2>Contrast Text Colors</h2>
  <p className="section-desc">セマンティックカラー（背景）の上に配置するテキストやアイコンの色です。</p>
  <ColorGrid>
    <ColorSwatch name="On Primary" value="--color-text-on-primary" color="var(--color-primary)">
      <span className="contrast-label" style={{ color: "var(--color-text-on-primary)" }}>Text</span>
    </ColorSwatch>
    <ColorSwatch name="On Destructive" value="--color-text-on-destructive" color="var(--color-destructive)">
      <span className="contrast-label" style={{ color: "var(--color-text-on-destructive)" }}>Text</span>
    </ColorSwatch>
    <ColorSwatch name="On Positive" value="--color-text-on-positive" color="var(--color-positive)">
      <span className="contrast-label" style={{ color: "var(--color-text-on-positive)" }}>Text</span>
    </ColorSwatch>
    <ColorSwatch name="On Caution" value="--color-text-on-caution" color="var(--color-caution)">
      <span className="contrast-label" style={{ color: "var(--color-text-on-caution)" }}>Text</span>
    </ColorSwatch>
    <ColorSwatch name="On Informative" value="--color-text-on-informative" color="var(--color-informative)">
      <span className="contrast-label" style={{ color: "var(--color-text-on-informative)" }}>Text</span>
    </ColorSwatch>
    <ColorSwatch name="On Disabled" value="--color-text-on-disabled" color="var(--color-disabled)">
      <span className="contrast-label" style={{ color: "var(--color-text-on-disabled)" }}>Text</span>
    </ColorSwatch>
  </ColorGrid>

  <h2><T k="guide_colors_text" /></h2>
  <p className="section-desc"><T k="guide_colors_text_desc" /></p>
  <ColorGrid>
    <ColorSwatch name="Text Primary" value="--text-primary" color="var(--text-primary)" />
    <ColorSwatch name="Text Secondary" value="--text-secondary" color="var(--text-secondary)" />
    <ColorSwatch name="Text Tertiary" value="--text-tertiary" color="var(--text-tertiary)" />
    <ColorSwatch name="Text Disabled" value="--text-disabled" color="var(--text-disabled)" />
    <ColorSwatch name="Text Error" value="--text-error" color="var(--text-error)" />
    <ColorSwatch name="Text White" value="--text-white" color="var(--text-white)" />
  </ColorGrid>

  <h2><T k="guide_colors_surface" /></h2>
  <p className="section-desc"><T k="guide_colors_surface_desc" /></p>
  <ColorGrid>
    <ColorSwatch name="App Background" value="--bg-app" color="var(--bg-app)" />
    <ColorSwatch name="Component Background" value="--bg-component" color="var(--bg-component)" />
  </ColorGrid>

  <h2><T k="guide_colors_border" /></h2>
  <p className="section-desc"><T k="guide_colors_border_desc" /></p>
  <ColorGrid>
    <ColorSwatch name="Border Primary" value="--wim-color-border" color="var(--wim-color-border)" />
    <ColorSwatch name="Border Secondary" value="--wim-color-border-secondary" color="var(--wim-color-border-secondary)" />
  </ColorGrid>

  <h2><T k="guide_colors_scrollbar" /></h2>
  <p className="section-desc"><T k="guide_colors_scrollbar_desc" /></p>
  <ColorGrid>
    <ColorSwatch name="Scrollbar Thumb" value="--scrollbar-thumb" color="var(--scrollbar-thumb)" />
  </ColorGrid>

  <hr />

  <h2>Contrast Checker</h2>
  <p className="section-desc">背景色と文字色のコントラスト比を確認して、アクセシビリティの基準を満たしているかチェックできます。</p>
  <ContrastChecker />

  <hr />

  <h2><T k="guide_colors_pccs" /></h2>
  <p><T k="guide_colors_pccs_desc" /></p>
  <p>wim UI では PCCS 記法（例: <code>$pccs-v1</code>, <code>$pccs-gy8-5</code>）を用いて SCSS 変数として管理されており、それらをセマンティックな CSS 変数に割り当てています。</p>
  
  <div style={{ marginTop: "20px", padding: "16px", background: "var(--bg-component, #f9f9f9)", borderRadius: "8px", border: "1px solid var(--wim-color-border)" }}>
    <strong>主要なトーンの対応:</strong>
    <ul>
      <li><strong>v (Vivid):</strong> 純色。プライマリーカラーなどに使用。</li>
      <li><strong>s (Strong):</strong> 彩度が高く力強い色。エラーや注目用。</li>
      <li><strong>gy (Grayish):</strong> 無彩色。テキストやボーダー、背景に使用。</li>
    </ul>
    詳細なカラーコードは <code>src/tokens/_pccs-colors.scss</code> および <code>_semantic-colors.scss</code> を参照してください。
  </div>

  <h2>カスタマイズ (Customization)</h2>
  <div style={{ padding: "24px", background: "var(--bg-component, #fff)", border: "1px solid var(--wim-color-border)", borderRadius: "12px", marginTop: "16px" }}>
    <p>配色を変更または追加したい場合は、以下のファイルを編集してください：</p>
    <ul>
      <li>
        <strong>セマンティックカラーの変更:</strong><br />
        <code>src/tokens/_semantic-colors.scss</code><br />
        <small style={{ color: "var(--text-secondary)" }}>用途ごとの色（Primary, Destructiveなど）や、ダークモードの配色を定義しています。</small>
      </li>
      <li style={{ marginTop: "12px" }}>
        <strong>PCCSパレット変数の変更:</strong><br />
        <code>src/tokens/_pccs-colors.scss</code><br />
        <small style={{ color: "var(--text-secondary)" }}>色相とトーンに基づいた具体的なカラーコードの定義（例: $pccs-v1）を行っています。</small>
      </li>
    </ul>
  </div>
</div>

