import { Meta } from "@storybook/addon-docs/blocks";
import { T } from "../stories/T";

<Meta title="Components/Visualization" />


  <h1><T k="guide_visualization_title" /></h1>
  <p><T k="guide_visualization_desc" /></p>

<hr />

<h2>チャート選びの基本基準 (Selection Criteria)</h2>
<p>
  データの性質や、ユーザーに伝えたいストーリーに合わせて適切なチャートを選択してください。
</p>

<table style={{ width: "100%" }}>
  <thead>
    <tr>
      <th>チャートタイプ</th>
      <th>主な用途</th>
      <th>適したデータ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_bar_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_bar_desc" />
      </td>
      <td>カテゴリデータ、ランキング、項目間の差の比較</td>
    </tr>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_line_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_line_desc" />
      </td>
      <td>時系列データ、連続的な変化、トレンドの把握</td>
    </tr>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_area_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_area_desc" />
      </td>
      <td>合計値の変化、時系列でのボリューム感の強調</td>
    </tr>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_pie_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_pie_desc" />
      </td>
      <td>構成比、シェア、全体に対する割合</td>
    </tr>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_scatter_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_scatter_desc" />
      </td>
      <td>2変数間の相関、外れ値の特定、分布の確認</td>
    </tr>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_heatmap_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_heatmap_desc" />
      </td>
      <td>多変数マトリックスの密度、行動パターンの可視化</td>
    </tr>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_radar_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_radar_desc" />
      </td>
      <td>多次元データの比較、能力・特性のバランス評価</td>
    </tr>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_funnel_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_funnel_desc" />
      </td>
      <td>プロセスの段階的な減少、コンバージョン率の可視化</td>
    </tr>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_treemap_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_treemap_desc" />
      </td>
      <td>階層構造データの割合、全体に対する部分の寄与度</td>
    </tr>
    <tr>
      <td>
        <strong>
          <T k="chart_guide_gauge_title" />
        </strong>
      </td>
      <td>
        <T k="chart_guide_gauge_desc" />
      </td>
      <td>単一の目標値に対する現在地の可視化、達成度</td>
    </tr>
  </tbody>
</table>

<hr />

<h2>詳細な使い分けガイドライン (Detailed Guidelines)</h2>

<table>
  <thead>
    <tr>
      <th>カテゴリ</th>
      <th>表現するもの</th>
      <th>適したグラフ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td rowSpan={3}>
        <strong>比較・推移</strong>
        <br />
        (Comparison & Trend)
      </td>
      <td>連続的な変化</td>
      <td>Line Chart</td>
    </tr>
    <tr>
      <td>
        断続的なデータの比較
        <br />
        各項目の絶対的な差
      </td>
      <td>Bar Chart</td>
    </tr>
    <tr>
      <td>複数のデータシリーズの合計値の推移</td>
      <td>Stacked Area Chart(積層面グラフ)</td>
    </tr>
    <tr>
      <td rowSpan={3}>
        <strong>割合</strong>
        <br />
        (Proportions)
      </td>
      <td>
        全体に対する各項目の割合
        <br />
        構成比、シェア
        <br />
        (項目数が少ない場合)
      </td>
      <td>Pie Chart</td>
    </tr>
    <tr>
      <td>
        全体に対する各項目の割合
        <br />
        構成比、シェア
        <br />
        項目数が多い(5項目以上)割合の可視化
      </td>
      <td>Horizontal Bar Chart(横棒グラフ)</td>
    </tr>
    <tr>
      <td>構成比の推移</td>
      <td>面グラフ(100% 積層タイプ)</td>
    </tr>
    <tr>
      <td rowSpan={2}>
        <strong>相関と分布</strong>
        <br />
        (Correlation & Distribution)
      </td>
      <td>
        2つの数値変数の関係
        <br />
        相関の有無
        <br />
        外れ値の検出
      </td>
      <td>Scatter Chart(散布図)</td>
    </tr>
    <tr>
      <td>
        時間軸など特定のセグメントごとの「集中度」
        <br />
        （例：週・時間別のログイン頻度）
      </td>
      <td>Heatmap(ヒートマップ)</td>
    </tr>
  </tbody>
</table>

    <h3>設計上のヒント (Design Tips)</h3>
    <table>
      <thead>
        <tr>
          <th>項目</th>
          <th>ガイドライン</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>色の使用</strong></td>
          <td>意味のない色の多用は避けましょう。比較対象を区別するために最小限の配色（PCCSパレットの利用を推奨）に留めます。</td>
        </tr>
        <tr>
          <td><strong>データ可読性</strong></td>
          <td>色の違いだけで情報を伝えないよう、ツールチップやラベルを活用してください。</td>
        </tr>
        <tr>
          <td><strong>軸のラベリング</strong></td>
          <td>常に単位と軸の名前を明示し、読み手が迷わないようにします。</td>
        </tr>
        <tr>
          <td><strong>凡例 (Legend)</strong></td>
          <td>系列が多い場合は凡例の位置を工夫し、グラフエリアを圧迫しないように調整してください。</td>
        </tr>
      </tbody>
    </table>

<hr />

  <h2>実装について (Technical Implementation)</h2>
    <p>WIM UI のチャートコンポーネントは <strong>Recharts</strong> をベースに構築されており、プロジェクトのデザイントークンに合わせたスタイリングが自動的に適用されます。</p>
    <ul>
      <li>
        <strong>コンポーネントの場所:</strong><br />
        <code>src/components/Charts/</code>
      </li>
      <li style={{ marginTop: "12px" }}>
        <strong>共通設定（色・テーマ）:</strong><br />
        <code>src/components/Charts/helpers.ts</code><br />
        <small style={{ color: "var(--text-secondary)" }}>チャートで使用するデフォルトの配色（CHART_COLORS）や、グリッド・軸のスタイルを管理しています。</small>
      </li>
    </ul>

