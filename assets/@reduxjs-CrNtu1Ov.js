import{i as yt,c as mt,a as wt,b as gt,d as he,e as Ve}from"./redux-DITMfSWq.js";import{t as vt,w as Pt}from"./redux-thunk-ClJT1hhx.js";var qe=Symbol.for("immer-nothing"),Re=Symbol.for("immer-draftable"),v=Symbol.for("immer-state");function b(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var S=Object,I=S.getPrototypeOf,X="constructor",re="prototype",pe="configurable",G="enumerable",H="writable",B="value",R=e=>!!e&&!!e[v];function T(e){return e?He(e)||ie(e)||!!e[Re]||!!e[X]?.[Re]||se(e)||oe(e):!1}var Ct=S[re][X].toString(),De=new WeakMap;function He(e){if(!e||!Ee(e))return!1;const t=I(e);if(t===null||t===S[re])return!0;const r=S.hasOwnProperty.call(t,X)&&t[X];if(r===Object)return!0;if(!L(r))return!1;let n=De.get(r);return n===void 0&&(n=Function.toString.call(r),De.set(r,n)),n===Ct}function ne(e,t,r=!0){j(e)===0?(r?Reflect.ownKeys(e):S.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function j(e){const t=e[v];return t?t.type_:ie(e)?1:se(e)?2:oe(e)?3:0}var Oe=(e,t,r=j(e))=>r===2?e.has(t):S[re].hasOwnProperty.call(e,t),_e=(e,t,r=j(e))=>r===2?e.get(t):e[t],J=(e,t,r,n=j(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function St(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ie=Array.isArray,se=e=>e instanceof Map,oe=e=>e instanceof Set,Ee=e=>typeof e=="object",L=e=>typeof e=="function",le=e=>typeof e=="boolean";function Et(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var A=e=>e.copy_||e.base_,ke=e=>e.modified_?e.copy_:e.base_;function ye(e,t){if(se(e))return new Map(e);if(oe(e))return new Set(e);if(ie(e))return Array[re].slice.call(e);const r=He(e);if(t===!0||t==="class_only"&&!r){const n=S.getOwnPropertyDescriptors(e);delete n[v];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],c=n[o];c[H]===!1&&(c[H]=!0,c[pe]=!0),(c.get||c.set)&&(n[o]={[pe]:!0,[H]:!0,[G]:c[G],[B]:e[o]})}return S.create(I(e),n)}else{const n=I(e);if(n!==null&&r)return{...e};const i=S.create(n);return S.assign(i,e)}}function be(e,t=!1){return ce(e)||R(e)||!T(e)||(j(e)>1&&S.defineProperties(e,{set:W,add:W,clear:W,delete:W}),S.freeze(e),t&&ne(e,(r,n)=>{be(n,!0)},!1)),e}function kt(){b(2)}var W={[B]:kt};function ce(e){return e===null||!Ee(e)?!0:S.isFrozen(e)}var Q="MapSet",me="Patches",ze="ArrayMethods",Ke={};function z(e){const t=Ke[e];return t||b(0,e),t}var Le=e=>!!Ke[e],$,Xe=()=>$,bt=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Le(Q)?z(Q):void 0,arrayMethodsPlugin_:Le(ze)?z(ze):void 0});function Fe(e,t){t&&(e.patchPlugin_=z(me),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function we(e){ge(e),e.drafts_.forEach(Tt),e.drafts_=null}function ge(e){e===$&&($=e.parent_)}var Ie=e=>$=bt($,e);function Tt(e){const t=e[v];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ne(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[v].modified_&&(we(t),b(4)),T(e)&&(e=xe(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[v].base_,e,t)}else e=xe(t,r);return Mt(t,e,!0),we(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qe?e:void 0}function xe(e,t){if(ce(t))return t;const r=t[v];if(!r)return Y(t,e.handledSet_,e);if(!ae(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Qe(r,e)}return r.copy_}function Mt(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&be(t,r)}function Ge(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ae=(e,t)=>e.scope_===t,At=[];function Je(e,t,r,n){const i=A(e),s=e.type_;if(n!==void 0&&_e(i,n,s)===t){J(i,n,r,s);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;ne(i,(a,l)=>{if(R(l)){const f=c.get(l)||[];f.push(a),c.set(l,f)}})}const o=e.draftLocations_.get(t)??At;for(const c of o)J(i,c,r,s)}function Rt(e,t,r){e.callbacks_.push(function(i){const s=t;if(!s||!ae(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const o=ke(s);Je(e,s.draft_??s,o,r),Qe(s,i)})}function Qe(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}Ge(e)}}function Dt(e,t,r){const{scope_:n}=e;if(R(r)){const i=r[v];ae(i,n)&&i.callbacks_.push(function(){K(e);const o=ke(i);Je(e,r,o,t)})}else T(r)&&e.callbacks_.push(function(){const s=A(e);e.type_===3?s.has(r)&&Y(r,n.handledSet_,n):_e(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Y(_e(e.copy_,t,e.type_),n.handledSet_,n)})}function Y(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||R(e)||t.has(e)||!T(e)||ce(e)||(t.add(e),ne(e,(n,i)=>{if(R(i)){const s=i[v];if(ae(s,r)){const o=ke(s);J(e,n,o,e.type_),Ge(s)}}else T(i)&&Y(i,t,r)})),e}function Ot(e,t){const r=ie(e),n={type_:r?1:0,scope_:t?t.scope_:Xe(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=Z;r&&(i=[n],s=U);const{revoke:o,proxy:c}=Proxy.revocable(i,s);return n.draft_=c,n.revoke_=o,[c,n]}var Z={get(e,t){if(t===v)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=A(e);if(!Oe(i,t,e.type_))return zt(e,i,t);const s=i[t];if(e.finalized_||!T(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&Et(t))return s;if(s===de(e.base_,t)){K(e);const o=e.type_===1?+t:t,c=Pe(e.scope_,s,e,o);return e.copy_[o]=c}return s},has(e,t){return t in A(e)},ownKeys(e){return Reflect.ownKeys(A(e))},set(e,t,r){const n=Ye(A(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=de(A(e),t),s=i?.[v];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(St(r,i)&&(r!==void 0||Oe(e.base_,t,e.type_)))return!0;K(e),ve(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Dt(e,t,r)),!0},deleteProperty(e,t){return K(e),de(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ve(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=A(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[H]:!0,[pe]:e.type_!==1||t!=="length",[G]:n[G],[B]:r[t]}},defineProperty(){b(11)},getPrototypeOf(e){return I(e.base_)},setPrototypeOf(){b(12)}},U={};for(let e in Z){let t=Z[e];U[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}U.deleteProperty=function(e,t){return U.set.call(this,e,t,void 0)};U.set=function(e,t,r){return Z.set.call(this,e[0],t,r,e[0])};function de(e,t){const r=e[v];return(r?A(r):e)[t]}function zt(e,t,r){const n=Ye(t,r);return n?B in n?n[B]:n.get?.call(e.draft_):void 0}function Ye(e,t){if(!(t in e))return;let r=I(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=I(r)}}function ve(e){e.modified_||(e.modified_=!0,e.parent_&&ve(e.parent_))}function K(e){e.copy_||(e.assigned_=new Map,e.copy_=ye(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Lt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,n)=>{if(L(t)&&!L(r)){const s=r;r=t;const o=this;return function(a=s,...l){return o.produce(a,f=>r.call(this,f,...l))}}L(r)||b(6),n!==void 0&&!L(n)&&b(7);let i;if(T(t)){const s=Ie(this),o=Pe(s,t,void 0);let c=!0;try{i=r(o),c=!1}finally{c?we(s):ge(s)}return Fe(s,n),Ne(i,s)}else if(!t||!Ee(t)){if(i=r(t),i===void 0&&(i=t),i===qe&&(i=void 0),this.autoFreeze_&&be(i,!0),n){const s=[],o=[];z(me).generateReplacementPatches_(t,i,{patches_:s,inversePatches_:o}),n(s,o)}return i}else b(1,t)},this.produceWithPatches=(t,r)=>{if(L(t))return(o,...c)=>this.produceWithPatches(o,a=>t(a,...c));let n,i;return[this.produce(t,r,(o,c)=>{n=o,i=c}),n,i]},le(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),le(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),le(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){T(e)||b(8),R(e)&&(e=Ft(e));const t=Ie(this),r=Pe(t,e,void 0);return r[v].isManual_=!0,ge(t),r}finishDraft(e,t){const r=e&&e[v];(!r||!r.isManual_)&&b(9);const{scope_:n}=r;return Fe(n,t),Ne(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=z(me).applyPatches_;return R(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Pe(e,t,r,n){const[i,s]=se(t)?z(Q).proxyMap_(t,r):oe(t)?z(Q).proxySet_(t,r):Ot(t,r);return(r?.scope_??Xe()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?Rt(r,s,n):s.callbacks_.push(function(a){a.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:l}=a;s.modified_&&l&&l.generatePatches_(s,[],a)}),i}function Ft(e){return R(e)||b(10,e),Ze(e)}function Ze(e){if(!T(e)||ce(e))return e;const t=e[v];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ye(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ye(e,!0);return ne(r,(i,s)=>{J(r,i,Ze(s))},n),t&&(t.finalized_=!1),r}var It=new Lt,et=It.produce,Nt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?he:he.apply(null,arguments)};function N(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(E(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Ve(n)&&n.type===e,r}var tt=class x extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,x.prototype)}static get[Symbol.species](){return x}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new x(...t[0].concat(this)):new x(...t.concat(this))}};function Be(e){return T(e)?et(e,()=>{}):e}function V(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function xt(e){return typeof e=="boolean"}var Bt=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new tt;return r&&(xt(r)?o.push(vt):o.push(Pt(r.extraArgument))),o},rt="RTK_autoBatch",hr=()=>e=>({payload:e,meta:{[rt]:!0}}),$e=e=>t=>{setTimeout(t,e)},$t=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,o=!1;const c=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$e(10):e.type==="callback"?e.queueNotification:$e(e.timeout),l=()=>{o=!1,s&&(s=!1,c.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const _=()=>i&&f(),w=n.subscribe(_);return c.add(f),()=>{w(),c.delete(f)}},dispatch(f){try{return i=!f?.meta?.[rt],s=!i,s&&(o||(o=!0,a(l))),n.dispatch(f)}finally{i=!0}}})},Ut=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new tt(e);return n&&i.push($t(typeof n=="object"?n:void 0)),i};function pr(e){const t=Bt(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(yt(r))c=mt(r);else throw new Error(E(1));let a;typeof n=="function"?a=n(t):a=t();let l=he;i&&(l=Nt({trace:!1,...typeof i=="object"&&i}));const f=wt(...a),_=Ut(f);let w=typeof o=="function"?o(_):_();const u=l(...w);return gt(c,s,u)}function nt(e){const t={},r=[];let n;const i={addCase(s,o){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(E(28));if(c in t)throw new Error(E(29));return t[c]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function jt(e){return typeof e=="function"}function Wt(e,t){let[r,n,i]=nt(t),s;if(jt(e))s=()=>Be(e());else{const c=Be(e);s=()=>c}function o(c=s(),a){let l=[r[a.type],...n.filter(({matcher:f})=>f(a)).map(({reducer:f})=>f)];return l.filter(f=>!!f).length===0&&(l=[i]),l.reduce((f,_)=>{if(_)if(R(f)){const u=_(f,a);return u===void 0?f:u}else{if(T(f))return et(f,w=>_(w,a));{const w=_(f,a);if(w===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return f},c)}return o.getInitialState=s,o}var Vt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qt=(e=21)=>{let t="",r=e;for(;r--;)t+=Vt[Math.random()*64|0];return t},Ht=Symbol.for("rtk-slice-createasyncthunk");function Kt(e,t){return`${e}/${t}`}function Xt({creators:e}={}){const t=e?.asyncThunk?.[Ht];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(E(11));const o=(typeof n.reducers=="function"?n.reducers(Jt()):n.reducers)||{},c=Object.keys(o),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(h,d){const y=typeof h=="string"?h:h.type;if(!y)throw new Error(E(12));if(y in a.sliceCaseReducersByType)throw new Error(E(13));return a.sliceCaseReducersByType[y]=d,l},addMatcher(h,d){return a.sliceMatchers.push({matcher:h,reducer:d}),l},exposeAction(h,d){return a.actionCreators[h]=d,l},exposeCaseReducer(h,d){return a.sliceCaseReducersByName[h]=d,l}};c.forEach(h=>{const d=o[h],y={reducerName:h,type:Kt(i,h),createNotation:typeof n.reducers=="function"};Yt(d)?er(y,d,l,t):Qt(y,d,l)});function f(){const[h={},d=[],y=void 0]=typeof n.extraReducers=="function"?nt(n.extraReducers):[n.extraReducers],P={...h,...a.sliceCaseReducersByType};return Wt(n.initialState,k=>{for(let C in P)k.addCase(C,P[C]);for(let C of a.sliceMatchers)k.addMatcher(C.matcher,C.reducer);for(let C of d)k.addMatcher(C.matcher,C.reducer);y&&k.addDefaultCase(y)})}const _=h=>h,w=new Map,u=new WeakMap;let p;function g(h,d){return p||(p=f()),p(h,d)}function M(){return p||(p=f()),p.getInitialState()}function m(h,d=!1){function y(k){let C=k[h];return typeof C>"u"&&d&&(C=V(u,y,M)),C}function P(k=_){const C=V(w,d,()=>new WeakMap);return V(C,k,()=>{const Ae={};for(const[pt,_t]of Object.entries(n.selectors??{}))Ae[pt]=Gt(_t,k,()=>V(u,k,M),d);return Ae})}return{reducerPath:h,getSelectors:P,get selectors(){return P(y)},selectSlice:y}}const D={name:i,reducer:g,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:M,...m(s),injectInto(h,{reducerPath:d,...y}={}){const P=d??s;return h.inject({reducerPath:P,reducer:g},y),{...D,...m(P,!0)}}};return D}}function Gt(e,t,r,n){function i(s,...o){let c=t(s);return typeof c>"u"&&n&&(c=r()),e(c,...o)}return i.unwrapped=e,i}var _r=Xt();function Jt(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Qt({type:e,reducerName:t,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!Zt(n))throw new Error(E(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?N(e,o):N(e))}function Yt(e){return e._reducerDefinitionType==="asyncThunk"}function Zt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function er({type:e,reducerName:t},r,n,i){if(!i)throw new Error(E(18));const{payloadCreator:s,fulfilled:o,pending:c,rejected:a,settled:l,options:f}=r,_=i(e,s,f);n.exposeAction(t,_),o&&n.addCase(_.fulfilled,o),c&&n.addCase(_.pending,c),a&&n.addCase(_.rejected,a),l&&n.addMatcher(_.settled,l),n.exposeCaseReducer(t,{fulfilled:o||q,pending:c||q,rejected:a||q,settled:l||q})}function q(){}var tr="task",it="listener",st="completed",Te="cancelled",rr=`task-${Te}`,nr=`task-${st}`,Ce=`${it}-${Te}`,ir=`${it}-${st}`,ue=class{constructor(e){this.code=e,this.message=`${tr} ${Te} (reason: ${e})`}name="TaskAbortError";message},Me=(e,t)=>{if(typeof e!="function")throw new TypeError(E(32))},ee=()=>{},ot=(e,t=ee)=>(e.catch(t),e),ct=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),O=e=>{if(e.aborted)throw new ue(e.reason)};function at(e,t){let r=ee;return new Promise((n,i)=>{const s=()=>i(new ue(e.reason));if(e.aborted){s();return}r=ct(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=ee})}var sr=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ue?"cancelled":"rejected",error:r}}finally{t?.()}},te=e=>t=>ot(at(e,t).then(r=>(O(e),r))),ut=e=>{const t=te(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:F}=Object,Ue={},fe="listenerMiddleware",or=(e,t)=>{const r=n=>ct(e,()=>n.abort(e.reason));return(n,i)=>{Me(n);const s=new AbortController;r(s);const o=sr(async()=>{O(e),O(s.signal);const c=await n({pause:te(s.signal),delay:ut(s.signal),signal:s.signal});return O(s.signal),c},()=>s.abort(nr));return i?.autoJoin&&t.push(o.catch(ee)),{result:te(e)(o),cancel(){s.abort(rr)}}}},cr=(e,t)=>{const r=async(n,i)=>{O(t);let s=()=>{};const c=[new Promise((a,l)=>{let f=e({predicate:n,effect:(_,w)=>{w.unsubscribe(),a([_,w.getState(),w.getOriginalState()])}});s=()=>{f(),l()}})];i!=null&&c.push(new Promise(a=>setTimeout(a,i,null)));try{const a=await at(t,Promise.race(c));return O(t),a}finally{s()}};return(n,i)=>ot(r(n,i))},ft=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=N(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(E(21));return Me(s),{predicate:i,type:t,effect:s}},lt=F(e=>{const{type:t,predicate:r,effect:n}=ft(e);return{id:qt(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(E(22))}}},{withTypes:()=>lt}),je=(e,t)=>{const{type:r,effect:n,predicate:i}=ft(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Se=e=>{e.pending.forEach(t=>{t.abort(Ce)})},ar=(e,t)=>()=>{for(const r of t.keys())Se(r);e.clear()},We=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},dt=F(N(`${fe}/add`),{withTypes:()=>dt}),ur=N(`${fe}/removeAll`),ht=F(N(`${fe}/remove`),{withTypes:()=>ht}),fr=(...e)=>{console.error(`${fe}/error`,...e)},yr=(e={})=>{const t=new Map,r=new Map,n=u=>{const p=r.get(u)??0;r.set(u,p+1)},i=u=>{const p=r.get(u)??1;p===1?r.delete(u):r.set(u,p-1)},{extra:s,onError:o=fr}=e;Me(o);const c=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),p=>{u.unsubscribe(),p?.cancelActive&&Se(u)}),a=u=>{const p=je(t,u)??lt(u);return c(p)};F(a,{withTypes:()=>a});const l=u=>{const p=je(t,u);return p&&(p.unsubscribe(),u.cancelActive&&Se(p)),!!p};F(l,{withTypes:()=>l});const f=async(u,p,g,M)=>{const m=new AbortController,D=cr(a,m.signal),h=[];try{u.pending.add(m),n(u),await Promise.resolve(u.effect(p,F({},g,{getOriginalState:M,condition:(d,y)=>D(d,y).then(Boolean),take:D,delay:ut(m.signal),pause:te(m.signal),extra:s,signal:m.signal,fork:or(m.signal,h),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((d,y,P)=>{d!==m&&(d.abort(Ce),P.delete(d))})},cancel:()=>{m.abort(Ce),u.pending.delete(m)},throwIfCancelled:()=>{O(m.signal)}})))}catch(d){d instanceof ue||We(o,d,{raisedBy:"effect"})}finally{await Promise.all(h),m.abort(ir),i(u),u.pending.delete(m)}},_=ar(t,r);return{middleware:u=>p=>g=>{if(!Ve(g))return p(g);if(dt.match(g))return a(g.payload);if(ur.match(g)){_();return}if(ht.match(g))return l(g.payload);let M=u.getState();const m=()=>{if(M===Ue)throw new Error(E(23));return M};let D;try{if(D=p(g),t.size>0){const h=u.getState(),d=Array.from(t.values());for(const y of d){let P=!1;try{P=y.predicate(g,h,M)}catch(k){P=!1,We(o,k,{raisedBy:"predicate"})}P&&f(y,g,u,m)}}}finally{M=Ue}return D},startListening:a,stopListening:l,clearListeners:_}};function E(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}export{Ft as a,N as b,_r as c,yr as d,pr as e,$t as f,hr as p};
