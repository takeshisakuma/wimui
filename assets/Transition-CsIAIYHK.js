import{j as w}from"./jsx-runtime-u17CrQMm.js";import{R as x,r as e}from"./iframe-Dgvn1YDu.js";import{c as l}from"./index-CZyd2_qg.js";const I=x.forwardRef(({show:s,children:q,enter:c="",enterFrom:h="",enterTo:g="",leave:d="",leaveFrom:T="",leaveTo:v="",unmount:f=!0,appear:A=!1,className:S,...F},E)=>{const[V,y]=e.useState(s),[m,o]=e.useState("idle"),r=e.useRef("idle"),[N,a]=e.useState(""),n=e.useRef(null),R=e.useRef(!0);e.useEffect(()=>{r.current=m},[m]),e.useImperativeHandle(E,()=>n.current);const b=u=>{if(u.target!==n.current)return;const t=r.current;t==="entering"?(o("idle"),r.current="idle",a("")):t==="leaving"&&(o("idle"),r.current="idle",a(""),f&&y(!1))};return e.useLayoutEffect(()=>{if(R.current&&(R.current=!1,!A||!s))return;const u=()=>()=>{};if(s){y(!0),o("entering"),r.current="entering",a(l(c,h)),n.current?.offsetHeight;let t=()=>{},i;const p=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.current&&(a(l(c,g)),t=u())})});return()=>{cancelAnimationFrame(p),cancelAnimationFrame(i),t()}}else{o("leaving"),r.current="leaving",a(l(d,T)),n.current?.offsetHeight;let t=()=>{},i;const p=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.current&&(a(l(d,v)),t=u())})});return()=>{cancelAnimationFrame(p),cancelAnimationFrame(i),t()}}},[s,c,h,g,d,T,v]),!V&&f?null:w.jsx("div",{ref:n,className:l(S,N,{"wim-transition-hidden":!s&&m==="idle"&&!f}),onTransitionEnd:b,...F,children:q})});I.__docgenInfo={description:`A component that handles simple CSS transitions for its children.
It manages applying classes at the right moments (enter, enterFrom, enterTo, etc.).`,methods:[],displayName:"Transition",props:{show:{required:!0,tsType:{name:"boolean"},description:"Whether the component should be shown or hidden"},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The content to be transitioned"},enter:{required:!1,tsType:{name:"string"},description:"Transition classes applied when entering",defaultValue:{value:'""',computed:!1}},enterFrom:{required:!1,tsType:{name:"string"},description:"Startup classes for the entry transition",defaultValue:{value:'""',computed:!1}},enterTo:{required:!1,tsType:{name:"string"},description:"Ending classes for the entry transition",defaultValue:{value:'""',computed:!1}},leave:{required:!1,tsType:{name:"string"},description:"Transition classes applied when leaving",defaultValue:{value:'""',computed:!1}},leaveFrom:{required:!1,tsType:{name:"string"},description:"Startup classes for the leave transition",defaultValue:{value:'""',computed:!1}},leaveTo:{required:!1,tsType:{name:"string"},description:"Ending classes for the leave transition",defaultValue:{value:'""',computed:!1}},unmount:{required:!1,tsType:{name:"boolean"},description:"Whether to unmount the children when hidden",defaultValue:{value:"true",computed:!1}},appear:{required:!1,tsType:{name:"boolean"},description:"Whether to animate on initial mount",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"Additional class names for the wrapper"}}};export{I as T};
