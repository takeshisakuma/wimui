import{r as n}from"./iframe-B0YcjJ-F.js";import{t as H,N as W,ap as X,U as F,V as Z,aq as Y,_ as Q,a0 as ee,r as k,D as R,c as $,a1 as ae,a2 as te,a3 as ie,a5 as V,ar as re,d as G,a6 as ne,p as le,Z as J,L as w,K as _,as as P,ab as K,ac as M,ad as oe,af as se,ag as z,ai as de,at as ce,aj as ue,I as pe,au as ve,h as q,av as me,q as ye,M as fe,aw as xe,al as he,k as Ae,ax as Ie,ay as ge,az as be,ao as Pe}from"./helpers-DX7t3IGh.js";import{C as Ee,u as Se,a as _e,b as Oe}from"./tooltipContext-BSpuMEp6.js";import{S as N}from"./ActiveShapeUtils-DZQGkn8o.js";import{S as we}from"./ErrorBarContext-BOzUHTZq.js";import{u as Te,G as Ce,C as De}from"./CartesianChart-Bjguqm3F.js";var ze=["option","isActive"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},O.apply(null,arguments)}function Ke(e,t){if(e==null)return{};var a,i,r=Le(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Le(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}function je(e){var{option:t,isActive:a}=e,i=Ke(e,ze);return typeof t=="string"?n.createElement(N,O({option:n.createElement(H,O({type:t},i)),isActive:a,shapeType:"symbols"},i)):n.createElement(N,O({option:t,isActive:a,shapeType:"symbols"},i))}var ke=(e,t,a,i,r,o,l)=>F(e,"xAxis",t,l),Me=(e,t,a,i,r,o,l)=>Z(e,"xAxis",t,l),Ne=(e,t,a,i,r,o,l)=>F(e,"yAxis",a,l),Be=(e,t,a,i,r,o,l)=>Z(e,"yAxis",a,l),We=(e,t,a,i)=>Y(e,"zAxis",i,!1),Fe=(e,t,a,i,r)=>r,Ze=(e,t,a,i,r,o)=>o,Re=(e,t,a,i,r,o,l)=>X(e,void 0,void 0,l),$e=W([Q,Fe],(e,t)=>e.filter(a=>a.type==="scatter").find(a=>a.id===t)),Ve=W([Re,ke,Me,Ne,Be,We,$e,Ze],(e,t,a,i,r,o,l,v)=>{var{chartData:d,dataStartIndex:c,dataEndIndex:y}=e;if(l!=null){var u;if(l?.data!=null&&l.data.length>0?u=l.data:u=d?.slice(c,y+1),!(u==null||t==null||i==null||a==null||r==null||a?.length===0||r?.length===0))return na({displayedData:u,xAxis:t,yAxis:i,zAxis:o,scatterSettings:l,xAxisTicks:a,yAxisTicks:r,cells:v})}}),Ge=["id"],Je=["onMouseEnter","onClick","onMouseLeave"],qe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function j(e,t){if(e==null)return{};var a,i,r=Ue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ue(e,t){if(e==null)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;a[i]=e[i]}return a}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},E.apply(null,arguments)}function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,i)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?B(Object(a),!0).forEach(function(i){He(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function He(e,t,a){return(t=Xe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xe(e){var t=Ye(e,"string");return typeof t=="symbol"?t:t+""}function Ye(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qe=e=>{var{dataKey:t,name:a,fill:i,legendType:r,hide:o}=e;return[{inactive:o,dataKey:t,type:r,color:i,value:V(a,t),payload:e}]},ea=n.memo(e=>{var{dataKey:t,points:a,stroke:i,strokeWidth:r,fill:o,name:l,hide:v,tooltipType:d,id:c}=e,y={dataDefinedOnItem:a?.map(u=>u.tooltipPayload),getPosition:u=>{var x;return a==null||(x=a[Number(u)])===null||x===void 0?void 0:x.tooltipPosition},settings:{stroke:i,strokeWidth:r,fill:o,nameKey:void 0,dataKey:t,name:V(l,t),hide:v,type:d,color:o,unit:"",graphicalItemId:c}};return n.createElement(ne,{tooltipEntrySettings:y})});function aa(e){var{points:t,props:a}=e,{line:i,lineType:r,lineJointType:o}=a;if(!i)return null;var l=q(a),v=fe(i),d,c;if(r==="joint")d=t.map(p=>{var s,m;return{x:(s=p.cx)!==null&&s!==void 0?s:null,y:(m=p.cy)!==null&&m!==void 0?m:null}});else if(r==="fitting"){var{xmin:y,xmax:u,a:x,b:g}=xe(t),I=p=>x*p+g;d=[{x:y,y:I(y)},{x:u,y:I(u)}]}var f=h(h(h({},l),{},{fill:"none",stroke:l&&l.fill},v),{},{points:d});return n.isValidElement(i)?c=n.cloneElement(i,f):typeof i=="function"?c=i(f):c=n.createElement(he,E({},f,{type:o})),n.createElement(w,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function ta(e){var{showLabels:t,points:a,children:i}=e,r=ce(),o=n.useMemo(()=>a?.map(l=>{var v,d,c={x:(v=l.x)!==null&&v!==void 0?v:0,y:(d=l.y)!==null&&d!==void 0?d:0,width:l.width,height:l.height,lowerWidth:l.width,upperWidth:l.width};return h(h({},c),{},{value:void 0,payload:l.payload,viewBox:c,parentViewBox:r,fill:void 0})}),[r,a]);return n.createElement(ue,{value:t?o:void 0},i)}function ia(e){var{points:t,allOtherScatterProps:a}=e,{shape:i,activeShape:r,dataKey:o}=a,{id:l}=a,v=j(a,Ge),d=G(pe),{onMouseEnter:c,onClick:y,onMouseLeave:u}=a,x=j(a,Je),g=Se(c,o,l),I=_e(u),f=Oe(y,o,l);if(!ve(t))return null;var p=q(v);return n.createElement(n.Fragment,null,n.createElement(aa,{points:t,props:v}),t.map((s,m)=>{var A=r!=null&&r!==!1,b=A&&d===String(m),T=A&&b?r:i,S=h(h(h({},p),s),{},{index:m,[me]:String(l)});return n.createElement(J,{key:"symbol-".concat(s?.cx,"-").concat(s?.cy,"-").concat(s?.size,"-").concat(m),zIndex:b?R.activeDot:void 0},n.createElement(w,E({className:"recharts-scatter-symbol"},ye(x,s,m),{onMouseEnter:g(s,m),onMouseLeave:I(s,m),onClick:f(s,m)}),n.createElement(je,E({option:T,isActive:b},S))))}))}function ra(e){var{previousPointsRef:t,props:a}=e,{points:i,isAnimationActive:r,animationBegin:o,animationDuration:l,animationEasing:v}=a,d=t.current,c=oe(a,"recharts-scatter-"),[y,u]=n.useState(!1),x=n.useCallback(()=>{u(!1)},[]),g=n.useCallback(()=>{u(!0)},[]),I=!y;return n.createElement(ta,{showLabels:I,points:i},a.children,n.createElement(se,{animationId:c,begin:o,duration:l,isActive:r,easing:v,onAnimationEnd:x,onAnimationStart:g,key:c},f=>{var p=f===1?i:i?.map((s,m)=>{var A=d&&d[m];return A?h(h({},s),{},{cx:s.cx==null?void 0:z(A.cx,s.cx,f),cy:s.cy==null?void 0:z(A.cy,s.cy,f),size:z(A.size,s.size,f)}):h(h({},s),{},{size:z(0,s.size,f)})});return f>0&&(t.current=p),n.createElement(w,null,n.createElement(ia,{points:p,allOtherScatterProps:a,showLabels:I}))}),n.createElement(de,{label:a.label}))}function na(e){var{displayedData:t,xAxis:a,yAxis:i,zAxis:r,scatterSettings:o,xAxisTicks:l,yAxisTicks:v,cells:d}=e,c=_(a.dataKey)?o.dataKey:a.dataKey,y=_(i.dataKey)?o.dataKey:i.dataKey,u=r&&r.dataKey,x=r?r.range:P.range,g=x&&x[0],I=a.scale.bandwidth?a.scale.bandwidth():0,f=i.scale.bandwidth?i.scale.bandwidth():0;return t.map((p,s)=>{var m=K(p,c),A=K(p,y),b=!_(u)&&K(p,u)||"-",T=[{name:_(a.dataKey)?o.name:a.name||String(a.dataKey),unit:a.unit||"",value:m,payload:p,dataKey:c,type:o.tooltipType},{name:_(i.dataKey)?o.name:i.name||String(i.dataKey),unit:i.unit||"",value:A,payload:p,dataKey:y,type:o.tooltipType}];b!=="-"&&r!=null&&T.push({name:r.name||r.dataKey,unit:r.unit||"",value:b,payload:p,dataKey:u,type:o.tooltipType});var S=M({axis:a,ticks:l,bandSize:I,entry:p,index:s,dataKey:c}),C=M({axis:i,ticks:v,bandSize:f,entry:p,index:s,dataKey:y}),L=b!=="-"&&r!=null?r.scale.map(b):g,D=L==null?0:Math.sqrt(Math.max(L,0)/Math.PI);return h(h({},p),{},{cx:S,cy:C,x:S==null?void 0:S-D,y:C==null?void 0:C-D,width:2*D,height:2*D,size:L,node:{x:m,y:A,z:b},tooltipPayload:T,tooltipPosition:{x:S,y:C},payload:p},d&&d[s]&&d[s].props)})}var la=(e,t,a)=>({x:e.cx,y:e.cy,value:Number(a==="x"?e.node.x:e.node.y),errorVal:K(e,t)});function oa(e){var{hide:t,points:a,className:i,needClip:r,xAxisId:o,yAxisId:l,id:v}=e,d=n.useRef(null);if(t)return null;var c=le("recharts-scatter",i),y=v;return n.createElement(J,{zIndex:e.zIndex},n.createElement(w,{className:c,clipPath:r?"url(#clipPath-".concat(y,")"):void 0,id:v},r&&n.createElement("defs",null,n.createElement(Ce,{clipPathId:y,xAxisId:o,yAxisId:l})),n.createElement(we,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:la,errorBarOffset:0},n.createElement(w,{key:"recharts-scatter-symbols"},n.createElement(ra,{props:e,previousPointsRef:d})))))}var U={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:R.scatter};function sa(e){var t=k(e,U),{animationBegin:a,animationDuration:i,animationEasing:r,hide:o,isAnimationActive:l,legendType:v,lineJointType:d,lineType:c,shape:y,xAxisId:u,yAxisId:x,zAxisId:g}=t,I=j(t,qe),{needClip:f}=Te(u,x),p=n.useMemo(()=>re(e.children,Ee),[e.children]),s=$(),m=G(A=>Ve(A,u,x,g,e.id,p,s));return f==null||m==null?null:n.createElement(n.Fragment,null,n.createElement(ea,{dataKey:e.dataKey,points:m,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),n.createElement(oa,E({},I,{xAxisId:u,yAxisId:x,zAxisId:g,lineType:c,lineJointType:d,legendType:v,shape:y,hide:o,isAnimationActive:l,animationBegin:a,animationDuration:i,animationEasing:r,points:m,needClip:f})))}function da(e){var t=k(e,U),a=$();return n.createElement(ae,{id:t.id,type:"scatter"},i=>n.createElement(n.Fragment,null,n.createElement(te,{legendPayload:Qe(t)}),n.createElement(ie,{type:"scatter",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:a}),n.createElement(sa,E({},t,{id:i}))))}var ca=n.memo(da,ee);ca.displayName="Scatter";function ua(e){var t=Ae(),a=n.useRef(null);return n.useLayoutEffect(()=>{a.current===null?t(Ie(e)):a.current!==e&&t(ge({prev:a.current,next:e})),a.current=e},[e,t]),n.useLayoutEffect(()=>()=>{a.current&&(t(be(a.current)),a.current=null)},[t]),null}var pa={zAxisId:0,range:P.range,scale:P.scale,type:P.type};function va(e){var t=k(e,pa);return n.createElement(ua,{domain:t.domain,id:t.zAxisId,dataKey:t.dataKey,name:t.name,unit:t.unit,range:t.range,scale:t.scale,type:t.type,allowDuplicatedCategory:P.allowDuplicatedCategory,allowDataOverflow:P.allowDataOverflow,reversed:P.reversed,includeHidden:P.includeHidden})}va.displayName="ZAxis";var ma=["item"],ga=n.forwardRef((e,t)=>n.createElement(De,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ma,tooltipPayloadSearcher:Pe,categoricalChartProps:e,ref:t}));export{ga as S,va as Z,ca as a};
