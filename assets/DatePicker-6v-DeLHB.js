import{j as a}from"./jsx-runtime-u17CrQMm.js";import{r}from"./iframe-BsQs8kZI.js";import{c as p}from"./index-C-VS4sL_.js";import{C as E}from"./Calendar-DAWPwMH2.js";import{I as h}from"./Icon-Cxs4seO8.js";/* empty css              */const O=({state:n="default",variant:b="outline",fullWidth:s=!1,className:g,disabled:l,value:f,defaultValue:x,onChange:D,format:k="YYYY-MM-DD",clearable:Y=!0,placeholder:C="Select date",minDate:R,maxDate:P,disabledDates:z,...j})=>{const[t,i]=r.useState(!1),[q,w]=r.useState(x||null),o=r.useRef(null),v=r.useRef(null),d=r.useId(),u=f!==void 0,c=u?f:q;r.useEffect(()=>{const e=m=>{o.current&&!o.current.contains(m.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const T=e=>{if(!e)return"";const m=e.getFullYear(),V=String(e.getMonth()+1).padStart(2,"0"),N=String(e.getDate()).padStart(2,"0");return k.replace("YYYY",String(m)).replace("MM",V).replace("DD",N)},M=e=>{u||w(e),D?.(e),i(!1),v.current?.focus()},S=e=>{e.stopPropagation(),u||w(null),D?.(null)},y=()=>{!l&&n!=="disabled"&&i(!t)},I=e=>{e.key==="Escape"?i(!1):(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),i(!t))};return a.jsxs("div",{ref:o,className:p("wim-datepicker-wrapper",s&&"wim-input--full-width",g),children:[a.jsxs("div",{className:p("wim-input-container","wim-datepicker-container",s&&"wim-input--full-width"),children:[a.jsx("input",{ref:v,type:"text",readOnly:!0,className:p("wim-input","wim-datepicker-input",`wim-input--${l?"disabled":n}`,`wim-input--${b}`,s&&"wim-input--full-width"),value:T(c||null),placeholder:C,disabled:l||n==="disabled",onClick:y,onKeyDown:I,"aria-haspopup":"dialog","aria-expanded":t,"aria-controls":t?d:void 0,...j}),a.jsxs("div",{className:"wim-datepicker-icons",children:[Y&&c&&!l&&n!=="disabled"&&a.jsx("button",{type:"button",className:"wim-datepicker-clear",onClick:S,"aria-label":"Clear date",children:a.jsx(h,{name:"CloseIcon",size:"small"})}),a.jsx("button",{type:"button",className:"wim-datepicker-calendar-icon",onClick:y,disabled:l||n==="disabled","aria-label":"Open calendar","aria-expanded":t,"aria-controls":t?d:void 0,children:a.jsx(h,{name:"ChevronDownIcon",size:"small"})})]})]}),t&&!l&&n!=="disabled"&&a.jsx("div",{id:d,className:"wim-datepicker-dropdown",role:"dialog","aria-modal":"false",children:a.jsx(E,{value:c||void 0,onChange:M})})]})};O.__docgenInfo={description:"ユーザーが日付を選択するためのコンポーネント。",methods:[],displayName:"DatePicker",props:{state:{required:!1,tsType:{name:"union",raw:'"default" | "error" | "disabled"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"error"'},{name:"literal",value:'"disabled"'}]},description:"",defaultValue:{value:'"default"',computed:!1}},variant:{required:!1,tsType:{name:"union",raw:'"outline" | "ghost"',elements:[{name:"literal",value:'"outline"'},{name:"literal",value:'"ghost"'}]},description:"",defaultValue:{value:'"outline"',computed:!1}},fullWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"Date"},description:"Selected date value"},defaultValue:{required:!1,tsType:{name:"Date"},description:"Default date value (uncontrolled)"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date | null) => void",signature:{arguments:[{type:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},name:"date"}],return:{name:"void"}}},description:"Callback when date changes"},format:{required:!1,tsType:{name:"string"},description:"Date format for display (default: 'YYYY-MM-DD')",defaultValue:{value:'"YYYY-MM-DD"',computed:!1}},clearable:{required:!1,tsType:{name:"boolean"},description:"Show clear button",defaultValue:{value:"true",computed:!1}},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text",defaultValue:{value:'"Select date"',computed:!1}},minDate:{required:!1,tsType:{name:"Date"},description:"Minimum selectable date"},maxDate:{required:!1,tsType:{name:"Date"},description:"Maximum selectable date"},disabledDates:{required:!1,tsType:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},description:"Disabled dates"}}};export{O as D};
