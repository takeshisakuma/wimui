import{j as a}from"./jsx-runtime-u17CrQMm.js";import{r as f}from"./iframe-W0zhgGv-.js";import{P as c}from"./index-DZCPikOu.js";import{I}from"./Icon-HmVovcl3.js";/* empty css                 */const O=({value:d,onChange:h,defaultValue:v,className:$="",disabled:i=!1,rangeMode:D=!1,range:b,onRangeChange:y,minDate:m,maxDate:p,disabledDates:q,isDateDisabled:T,...F})=>{const[j,x]=f.useState(v||d||new Date),[R,V]=f.useState(v||d),[n,M]=f.useState(b?.start||null),[l,g]=f.useState(b?.end||null),N=d!==void 0,k=N?d:R,r=j.getFullYear(),s=j.getMonth(),Y=new Date(r,s,1),E=new Date(r,s+1,0),P=new Date(r,s,0),z=E.getDate(),_=Y.getDay(),A=()=>{i||x(new Date(r,s-1,1))},L=()=>{i||x(new Date(r,s+1,1))},o=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),C=e=>!!(T&&T(e)||q&&q.some(t=>o(t,e))||m&&e<new Date(m.getFullYear(),m.getMonth(),m.getDate())||p&&e>new Date(p.getFullYear(),p.getMonth(),p.getDate())),W=e=>{i||C(e)||(D?!n||n&&l?(M(e),g(null),y?.({start:e,end:null})):e<n?(M(e),g(n),y?.({start:e,end:n})):(g(e),y?.({start:n,end:e})):(N||V(e),h&&h(e)))},B=e=>D?!!(n&&o(e,n)||l&&o(e,l)):k&&o(e,k),G=e=>{if(!D||!n||!l)return!1;const t=n<l?n:l,w=n<l?l:n;return e>t&&e<w},H=e=>o(e,new Date),u=[];for(let e=_-1;e>=0;e--){const t=new Date(r,s-1,P.getDate()-e);u.push({date:t,currentMonth:!1})}for(let e=1;e<=z;e++){const t=new Date(r,s,e);u.push({date:t,currentMonth:!0})}const J=42-u.length;for(let e=1;e<=J;e++){const t=new Date(r,s+1,e);u.push({date:t,currentMonth:!1})}const K=["日","月","火","水","木","金","土"];return a.jsxs("div",{className:`wim-calendar ${i?"wim-calendar--disabled":""} ${$}`,...F,children:[a.jsxs("div",{className:"wim-calendar-header",children:[a.jsx("button",{type:"button",className:"wim-calendar-nav-btn",onClick:A,disabled:i,children:a.jsx(I,{name:"ChevronLeftIcon",size:"small"})}),a.jsxs("div",{className:"wim-calendar-title",children:[r,"年 ",s+1,"月"]}),a.jsx("button",{type:"button",className:"wim-calendar-nav-btn",onClick:L,disabled:i,children:a.jsx(I,{name:"ChevronRightIcon",size:"small"})})]}),a.jsxs("div",{className:"wim-calendar-grid",children:[K.map(e=>a.jsx("div",{className:"wim-calendar-weekday",children:e},e)),u.map(({date:e,currentMonth:t},w)=>{const Q=B(e),U=H(e),X=G(e),S=C(e);return a.jsx("button",{type:"button",className:`wim-calendar-day ${t?"":"wim-calendar-day--other-month"} ${Q?"wim-calendar-day--selected":""} ${U?"wim-calendar-day--today":""} ${X?"wim-calendar-day--in-range":""} ${S?"wim-calendar-day--disabled":""}`,onClick:()=>W(e),disabled:i||S,children:e.getDate()},w)})]})]})};O.propTypes={value:c.instanceOf(Date),onChange:c.func,defaultValue:c.instanceOf(Date),className:c.string,disabled:c.bool};O.__docgenInfo={description:"ユーザーが日付を閲覧し、選択するためのカレンダーコンポーネント。",methods:[],displayName:"Calendar",props:{value:{required:!1,tsType:{name:"Date"},description:"現在選択されている日付。",type:{name:"instanceOf",value:"Date"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:"日付が変更された時のコールバック。",type:{name:"func"}},defaultValue:{required:!1,tsType:{name:"Date"},description:"初期値。",type:{name:"instanceOf",value:"Date"}},className:{required:!1,tsType:{name:"string"},description:"追加のクラス名。",defaultValue:{value:'""',computed:!1},type:{name:"string"}},disabled:{required:!1,tsType:{name:"boolean"},description:"無効化。",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},rangeMode:{required:!1,tsType:{name:"boolean"},description:"範囲選択モード。",defaultValue:{value:"false",computed:!1}},range:{required:!1,tsType:{name:"signature",type:"object",raw:"{ start: Date | null; end: Date | null }",signature:{properties:[{key:"start",value:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}],required:!0}},{key:"end",value:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}],required:!0}}]}},description:"選択された範囲（範囲選択モード時）。"},onRangeChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(range: { start: Date | null; end: Date | null }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ start: Date | null; end: Date | null }",signature:{properties:[{key:"start",value:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}],required:!0}},{key:"end",value:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}],required:!0}}]}},name:"range"}],return:{name:"void"}}},description:"範囲が変更された時のコールバック（範囲選択モード時）。"},minDate:{required:!1,tsType:{name:"Date"},description:"選択可能な最小日付。"},maxDate:{required:!1,tsType:{name:"Date"},description:"選択可能な最大日付。"},disabledDates:{required:!1,tsType:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},description:"無効化する日付の配列。"},isDateDisabled:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date) => boolean",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"boolean"}}},description:"特定の日付を無効化する関数。"}}};export{O as C};
