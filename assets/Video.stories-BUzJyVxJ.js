import{j as a}from"./jsx-runtime-u17CrQMm.js";import{R as n}from"./iframe-Rz6pNceq.js";import{P as t}from"./index-Dnf1k34B.js";import{I as x}from"./Icon-GFlJee33.js";const j=({src:E,width:P,height:O,autoPlay:y=!1,loop:T=!1,muted:V=!1,controls:z=!0,poster:L,radius:C="none",shadow:$=!1,border:U=!1,fit:A="cover",preload:D,caption:S,className:B,style:W,customControls:m=!1,advancedControls:re=!1,...X})=>{const o=n.useRef(null),w=n.useRef(null),[d,p]=n.useState(!1),[b,N]=n.useState(0),[h,G]=n.useState(0),[f,H]=n.useState(1),[l,q]=n.useState(V),[R,I]=n.useState(!1),[M,ie]=n.useState(1),[_,ue]=n.useState(T);n.useEffect(()=>{y&&o.current&&o.current.play().catch(e=>{console.warn("Autoplay was prevented:",e)})},[y]),n.useEffect(()=>{o.current&&(o.current.volume=f,o.current.muted=l,o.current.playbackRate=M,o.current.loop=_)},[f,l,M,_]);const k=()=>{o.current&&(d?o.current.pause():o.current.play(),p(!d))},J=()=>{o.current&&N(o.current.currentTime)},K=()=>{o.current&&G(o.current.duration)},Q=e=>{const s=parseFloat(e.target.value);o.current&&(o.current.currentTime=s,N(s))},Y=e=>{const s=parseFloat(e.target.value);H(s),s>0&&q(!1)},Z=()=>{q(!l)},ee=()=>{w.current&&(document.fullscreenElement?(document.exitFullscreen(),I(!1)):(w.current.requestFullscreen().catch(e=>{console.warn(`Error attempting to enable fullscreen mode: ${e.message} (${e.name})`)}),I(!0)))},F=e=>{const s=Math.floor(e/60),ne=Math.floor(e%60);return`${s}:${ne.toString().padStart(2,"0")}`},ae=["wim-video-inner",C!=="none"&&`wim-video--radius-${C}`,$&&"wim-video--shadow",U&&"wim-video--border",m&&"wim-video--custom"].filter(Boolean).join(" "),te={width:P||"100%",height:O||"auto",objectFit:A,...W},oe=m?!1:z;return a.jsxs("figure",{className:`wim-video-container ${B||""}`,style:{width:P||"100%"},children:[a.jsxs("div",{className:ae,ref:w,children:[a.jsx("video",{ref:o,src:E,className:"wim-video",style:te,autoPlay:y,loop:T,muted:V,controls:oe,poster:L,preload:D,playsInline:!0,onTimeUpdate:J,onLoadedMetadata:K,onEnded:()=>p(!1),onPlay:()=>p(!0),onPause:()=>p(!1),onClick:m?k:void 0,...X}),m&&a.jsx("div",{className:"wim-video-custom-controls",children:a.jsxs("div",{className:"wim-video-controls-bottom",children:[a.jsx("button",{type:"button",className:"wim-video-btn wim-video-btn--play",onClick:e=>{e.stopPropagation(),k()},"aria-label":d?"Pause":"Play",children:a.jsx(x,{name:d?"PauseIcon":"PlayIcon",size:"small"})}),a.jsxs("div",{className:"wim-video-time-container",children:[a.jsx("span",{className:"wim-video-time__current",children:F(b)}),a.jsxs("div",{className:"wim-video-progress-container",children:[a.jsx("input",{type:"range",min:"0",max:h||0,value:b,onChange:Q,className:"wim-video-progress","aria-label":"Seek",onClick:e=>e.stopPropagation()}),a.jsx("div",{className:"wim-video-progress-fill",style:{width:`${b/(h||1)*100}%`}})]}),a.jsx("span",{className:"wim-video-time__total",children:F(h)})]}),a.jsxs("div",{className:"wim-video-volume-container",children:[a.jsx("button",{type:"button",className:"wim-video-btn wim-video-btn--volume",onClick:e=>{e.stopPropagation(),Z()},"aria-label":l?"Unmute":"Mute",children:a.jsx(x,{name:l||f===0?"MuteIcon":"VolumeIcon",size:"small"})}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:l?0:f,onChange:e=>{e.stopPropagation(),Y(e)},className:"wim-video-volume","aria-label":"Volume",onClick:e=>e.stopPropagation()})]}),a.jsx("button",{type:"button",className:"wim-video-btn wim-video-btn--fullscreen",onClick:e=>{e.stopPropagation(),ee()},"aria-label":R?"Exit Fullscreen":"Fullscreen",children:a.jsx(x,{name:R?"MinimizeIcon":"MaximizeIcon",size:"small"})})]})})]}),S&&a.jsx("figcaption",{className:"wim-video__caption",children:S})]})};j.propTypes={src:t.string.isRequired,width:t.oneOfType([t.string,t.number]),height:t.oneOfType([t.string,t.number]),autoPlay:t.bool,loop:t.bool,muted:t.bool,controls:t.bool,poster:t.string,radius:t.oneOf(["none","small","medium","large","full"]),shadow:t.bool,border:t.bool,fit:t.oneOf(["contain","cover","fill","none","scale-down"]),preload:t.oneOf(["auto","metadata","none"]),caption:t.string,customControls:t.bool,advancedControls:t.bool};j.__docgenInfo={description:"",methods:[],displayName:"Video",props:{src:{required:!0,tsType:{name:"string"},description:"",type:{name:"string"}},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]}},height:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]}},autoPlay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},loop:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},muted:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},controls:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},poster:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},radius:{required:!1,tsType:{name:"union",raw:'"none" | "small" | "medium" | "large" | "full"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'},{name:"literal",value:'"full"'}]},description:"",defaultValue:{value:'"none"',computed:!1},type:{name:"enum",value:[{value:'"none"',computed:!1},{value:'"small"',computed:!1},{value:'"medium"',computed:!1},{value:'"large"',computed:!1},{value:'"full"',computed:!1}]}},shadow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},border:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},fit:{required:!1,tsType:{name:"union",raw:'"contain" | "cover" | "fill" | "none" | "scale-down"',elements:[{name:"literal",value:'"contain"'},{name:"literal",value:'"cover"'},{name:"literal",value:'"fill"'},{name:"literal",value:'"none"'},{name:"literal",value:'"scale-down"'}]},description:"",defaultValue:{value:'"cover"',computed:!1},type:{name:"enum",value:[{value:'"contain"',computed:!1},{value:'"cover"',computed:!1},{value:'"fill"',computed:!1},{value:'"none"',computed:!1},{value:'"scale-down"',computed:!1}]}},preload:{required:!1,tsType:{name:"union",raw:'"auto" | "metadata" | "none"',elements:[{name:"literal",value:'"auto"'},{name:"literal",value:'"metadata"'},{name:"literal",value:'"none"'}]},description:"",type:{name:"enum",value:[{value:'"auto"',computed:!1},{value:'"metadata"',computed:!1},{value:'"none"',computed:!1}]}},caption:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},customControls:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},advancedControls:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1}}};const v=""+new URL("videosample-j4XSMn77.mp4",import.meta.url).href,g=""+new URL("imagesanple-j58eW6sL.webp",import.meta.url).href,se={title:"Component/Media & Viz/Video",component:j,parameters:{layout:"centered"},argTypes:{radius:{control:"select",options:["none","small","medium","large","full"]},fit:{control:"select",options:["contain","cover","fill","none","scale-down"]}}},r={args:{src:v,poster:g,width:600}},i={args:{src:v,poster:g,width:600,autoPlay:!0,muted:!0,loop:!0,controls:!1,caption:"自動再生＆ループ設定（ミュート必須）"}},u={args:{src:v,poster:g,width:400,radius:"large",shadow:!0}},c={args:{src:v,poster:g,width:600,customControls:!0,radius:"medium",shadow:!0,caption:"カスタムコントロール付きビデオ"}};r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 600
  }
}`,...r.parameters?.docs?.source}}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 600,
    autoPlay: true,
    muted: true,
    loop: true,
    controls: false,
    caption: "自動再生＆ループ設定（ミュート必須）"
  }
}`,...i.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 400,
    radius: "large",
    shadow: true
  }
}`,...u.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 600,
    customControls: true,
    radius: "medium",
    shadow: true,
    caption: "カスタムコントロール付きビデオ"
  }
}`,...c.parameters?.docs?.source}}};const le=["Default","AutoPlay","Rounded","CustomControls"],fe=Object.freeze(Object.defineProperty({__proto__:null,AutoPlay:i,CustomControls:c,Default:r,Rounded:u,__namedExportsOrder:le,default:se},Symbol.toStringTag,{value:"Module"}));export{i as A,r as D,u as R,fe as V};
