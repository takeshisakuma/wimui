import{j as p}from"./jsx-runtime-u17CrQMm.js";import{r as q,R as s}from"./iframe-BZaCnPHr.js";import{u as j,l as I,c as O,d as E,e as k,f as y,F,h as _,o as S,i as V,j as M}from"./floating-ui.react-3qHKEUjZ.js";import{c as f}from"./index-BhXy3CKJ.js";import{T as U}from"./Transition-CgSDXVoF.js";import{I as D}from"./Icon-BA_VydvM.js";const u=s.createContext(null),z=({children:e,className:n,defaultOpen:d=!1,isOpen:r,onOpenChange:a,placement:o="bottom-start"})=>{const[i,t]=q.useState(d),l=r??i,c=h=>{r===void 0&&t(h),a?.(h)},{refs:g,floatingStyles:v,context:m}=j({open:l,onOpenChange:c,placement:o,whileElementsMounted:_,middleware:[S(8),V(),M({padding:10})]}),w=I(m),x=O(m),T=E(m),{getReferenceProps:b,getFloatingProps:N}=k([w,x,T]),R=()=>c(!1);return p.jsx(u.Provider,{value:{isOpen:l,setOpen:c,refs:g,floatingStyles:v,context:m,getReferenceProps:b,getFloatingProps:N,close:R},children:p.jsx("div",{className:f("wim-popover",n),children:e})})},P=s.forwardRef(({children:e,className:n,asChild:d,...r},a)=>{const o=s.useContext(u);if(o==null)throw new Error("Popover components must be wrapped in <Popover />");const i=e.ref,t=y([o.refs.setReference,a,i??null]);if(d&&s.isValidElement(e)){const l=e.props,c=o.getReferenceProps({ref:t,...r,...l,className:f(n,l.className)});return s.cloneElement(e,{...c,"data-state":o.isOpen?"open":"closed"})}return p.jsx("button",{ref:t,type:"button",className:f("wim-popover-trigger",n),"data-state":o.isOpen?"open":"closed",...o.getReferenceProps(r),children:e})});P.displayName="PopoverTrigger";const C=s.forwardRef(({children:e,className:n,align:d,side:r,style:a,...o},i)=>{const t=s.useContext(u);if(t==null)throw new Error("Popover components must be wrapped in <Popover />");const{isOpen:l,refs:c,floatingStyles:g,getFloatingProps:v}=t,m=y([c.setFloating,i]);return p.jsx(F,{children:p.jsx(U,{show:l,enter:"fade-enter",enterFrom:"fade-enter-from",enterTo:"fade-enter-to",leave:"fade-leave",leaveFrom:"fade-leave-from",leaveTo:"fade-leave-to",children:p.jsx("div",{ref:m,style:{...g,...a},className:f("wim-popover-content",n),role:"dialog",...v(o),children:e})})})});C.displayName="PopoverContent";const A=({children:e,className:n,asChild:d,...r})=>{const a=s.useContext(u);if(!a)return null;const{close:o}=a,i=t=>{o(),r.onClick?.(t)};return d&&s.isValidElement(e)?s.cloneElement(e,{onClick:t=>{e.props.onClick?.(t),i(t)},className:f(n,e.props.className)}):p.jsx("button",{type:"button",className:f("wim-popover-close",n),onClick:i,"aria-label":"Close",...r,children:e||p.jsx(D,{name:"CloseSmallIcon",width:15,height:15})})};z.__docgenInfo={description:"",methods:[],displayName:"Popover",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:"If true, the popover component will manage its own open state.",defaultValue:{value:"false",computed:!1}},isOpen:{required:!1,tsType:{name:"boolean"},description:"If provided, controls the open state."},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:"Callback when open state changes."},placement:{required:!1,tsType:{name:"Placement"},description:"Preferred placement of the popover.",defaultValue:{value:'"bottom-start"',computed:!1}}}};P.__docgenInfo={description:"",methods:[],displayName:"PopoverTrigger",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},asChild:{required:!1,tsType:{name:"boolean"},description:""}}};C.__docgenInfo={description:"",methods:[],displayName:"PopoverContent",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},align:{required:!1,tsType:{name:"union",raw:'"left" | "right" | "center"',elements:[{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"center"'}]},description:""},side:{required:!1,tsType:{name:"union",raw:'"top" | "bottom"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'}]},description:""}}};A.__docgenInfo={description:"",methods:[],displayName:"PopoverClose",props:{asChild:{required:!1,tsType:{name:"boolean"},description:""}}};export{z as P,P as a,C as b,A as c};
