import{r as i}from"./react-D-G-yZ1o.js";import"./i18next-DYT68AY6.js";import{s as q}from"./use-sync-external-store-Crwep2Tv.js";const B=(e,t,s,l)=>{const u=[s,{code:t,...l||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(u,"warn","react-i18next::",!0);f(u[0])&&(u[0]=`react-i18next:: ${u[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...u):console?.warn&&console.warn(...u)},P={},j=(e,t,s,l)=>{f(s)&&P[s]||(f(s)&&(P[s]=new Date),B(e,t,s,l))},k=(e,t)=>()=>{if(e.isInitialized)t();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),t()};e.on("initialized",s)}},C=(e,t,s)=>{e.loadNamespaces(t,k(e,s))},T=(e,t,s,l)=>{if(f(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(t)>-1)return C(e,s,l);s.forEach(u=>{e.options.ns.indexOf(u)<0&&e.options.ns.push(u)}),e.loadLanguages(t,k(e,l))},G=(e,t,s={})=>!t.languages||!t.languages.length?(j(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:s.lng,precheck:(l,u)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!u(l.isLanguageChangingTo,e))return!1}}),f=e=>typeof e=="string",D=e=>typeof e=="object"&&e!==null,K=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,X={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Y=e=>X[e],$=e=>e.replace(K,Y);let I={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:$,transDefaultProps:void 0};const J=(e={})=>{I={...I,...e}},Q=()=>I;let F;const Z=e=>{F=e},V=()=>F,ce={type:"3rdParty",init(e){J(e.options.react),Z(e)}},z=i.createContext();class ee{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const te=(e,t)=>f(t)?t:D(t)&&f(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,ne={t:te,ready:!1},se=()=>()=>{},ie=(e,t={})=>{const{i18n:s}=t,{i18n:l,defaultNS:u}=i.useContext(z)||{},n=s||l||V();n&&!n.reportNamespaces&&(n.reportNamespaces=new ee),n||j(n,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const g=i.useMemo(()=>({...Q(),...n?.options?.react,...t}),[n,t]),{useSuspense:N,keyPrefix:h}=g,x=e||u||n?.options?.defaultNS,E=f(x)?[x]:x||["translation"],d=i.useMemo(()=>E,E);n?.reportNamespaces?.addUsedNamespaces?.(d);const O=i.useRef(0),A=i.useCallback(r=>{if(!n)return se;const{bindI18n:a,bindI18nStore:o}=g,c=()=>{O.current+=1,r()};return a&&n.on(a,c),o&&n.store.on(o,c),()=>{a&&a.split(" ").forEach(b=>n.off(b,c)),o&&o.split(" ").forEach(b=>n.store.off(b,c))}},[n,g]),v=i.useRef(),R=i.useCallback(()=>{if(!n)return ne;const r=!!(n.isInitialized||n.initializedStoreOnce)&&d.every(W=>G(W,n,g)),a=t.lng||n.language,o=O.current,c=v.current;if(c&&c.ready===r&&c.lng===a&&c.keyPrefix===h&&c.revision===o)return c;const L={t:n.getFixedT(a,g.nsMode==="fallback"?d:d[0],h),ready:r,lng:a,keyPrefix:h,revision:o};return v.current=L,L},[n,d,h,g,t.lng]),[M,H]=i.useState(0),{t:w,ready:p}=q.useSyncExternalStore(A,R,R);i.useEffect(()=>{if(n&&!p&&!N){const r=()=>H(a=>a+1);t.lng?T(n,t.lng,d,r):C(n,d,r)}},[n,t.lng,d,p,N,M]);const m=n||{},y=i.useRef(null),S=i.useRef(),_=r=>{const a=Object.getOwnPropertyDescriptors(r);a.__original&&delete a.__original;const o=Object.create(Object.getPrototypeOf(r),a);if(!Object.prototype.hasOwnProperty.call(o,"__original"))try{Object.defineProperty(o,"__original",{value:r,writable:!1,enumerable:!1,configurable:!1})}catch{}return o},U=i.useMemo(()=>{const r=m,a=r?.language;let o=r;r&&(y.current&&y.current.__original===r?S.current!==a?(o=_(r),y.current=o,S.current=a):o=y.current:(o=_(r),y.current=o,S.current=a));const c=[w,o,p];return c.t=w,c.i18n=o,c.ready=p,c},[w,m,p,m.resolvedLanguage,m.language,m.languages]);if(n&&N&&!p)throw new Promise(r=>{const a=()=>r();t.lng?T(n,t.lng,d,a):C(n,d,a)});return U};function le({i18n:e,defaultNS:t,children:s}){const l=i.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return i.createElement(z.Provider,{value:l},s)}export{le as I,ce as i,ie as u};
