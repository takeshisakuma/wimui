import{j as a}from"./jsx-runtime-u17CrQMm.js";import{R as s}from"./iframe-fkfRYW7V.js";import{c as _}from"./index-u7C10MK_.js";import{I as b}from"./Icon-C2ZhoXjf.js";const k=({src:F,width:ne,height:E,autoPlay:g=!1,loop:x=!1,muted:j=!1,controls:L=!0,poster:z,radius:P="none",shadow:$=!1,border:U=!1,fit:A="cover",preload:D,caption:T,className:O,style:W,customControls:c=!1,advancedControls:re=!1,...X})=>{const t=s.useRef(null),w=s.useRef(null),[d,m]=s.useState(!1),[h,V]=s.useState(0),[y,B]=s.useState(0),[p,G]=s.useState(1),[n,S]=s.useState(j),[N,C]=s.useState(!1),[q,le]=s.useState(1),[R,ie]=s.useState(x);s.useEffect(()=>{g&&t.current&&t.current.play().catch(e=>{console.warn("Autoplay was prevented:",e)})},[g]),s.useEffect(()=>{t.current&&(t.current.volume=p,t.current.muted=n,t.current.playbackRate=q,t.current.loop=R)},[p,n,q,R]);const I=()=>{t.current&&(d?t.current.pause():t.current.play(),m(!d))},H=()=>{t.current&&V(t.current.currentTime)},J=()=>{t.current&&B(t.current.duration)},K=e=>{const o=parseFloat(e.target.value);t.current&&(t.current.currentTime=o,V(o))},Q=e=>{const o=parseFloat(e.target.value);G(o),o>0&&S(!1)},Y=()=>{S(!n)},Z=()=>{w.current&&(document.fullscreenElement?(document.exitFullscreen(),C(!1)):(w.current.requestFullscreen().catch(e=>{console.warn(`Error attempting to enable fullscreen mode: ${e.message} (${e.name})`)}),C(!0)))},M=e=>{const o=Math.floor(e/60),te=Math.floor(e%60);return`${o}:${te.toString().padStart(2,"0")}`},ee={width:"100%",height:E||"auto",objectFit:A,...W},ae=c?!1:L;return a.jsxs("figure",{className:_("wim-video-container",O),style:{width:"100%"},children:[a.jsxs("div",{className:_("wim-video-inner",P!=="none"&&`wim-video--radius-${P}`,$&&"wim-video--shadow",U&&"wim-video--border",c&&"wim-video--custom"),ref:w,children:[a.jsx("video",{ref:t,src:F,className:"wim-video",style:ee,autoPlay:g,loop:x,muted:j,controls:ae,poster:z,preload:D,playsInline:!0,onTimeUpdate:H,onLoadedMetadata:J,onEnded:()=>m(!1),onPlay:()=>m(!0),onPause:()=>m(!1),onClick:c?I:void 0,...X}),c&&a.jsx("div",{className:"wim-video-custom-controls",children:a.jsxs("div",{className:"wim-video-controls-bottom",children:[a.jsx("button",{type:"button",className:"wim-video-btn wim-video-btn--play",onClick:e=>{e.stopPropagation(),I()},"aria-label":d?"Pause":"Play",children:a.jsx(b,{name:d?"PauseIcon":"PlayIcon",size:"small"})}),a.jsxs("div",{className:"wim-video-time-container",children:[a.jsx("span",{className:"wim-video-time__current",children:M(h)}),a.jsxs("div",{className:"wim-video-progress-container",children:[a.jsx("input",{type:"range",min:"0",max:y||0,value:h,onChange:K,className:"wim-video-progress","aria-label":"Seek",onClick:e=>e.stopPropagation()}),a.jsx("div",{className:"wim-video-progress-fill",style:{width:`${h/(y||1)*100}%`}})]}),a.jsx("span",{className:"wim-video-time__total",children:M(y)})]}),a.jsxs("div",{className:"wim-video-volume-container",children:[a.jsx("button",{type:"button",className:"wim-video-btn wim-video-btn--volume",onClick:e=>{e.stopPropagation(),Y()},"aria-label":n?"Unmute":"Mute",children:a.jsx(b,{name:n||p===0?"MuteIcon":"VolumeIcon",size:"small"})}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n?0:p,onChange:e=>{e.stopPropagation(),Q(e)},className:"wim-video-volume","aria-label":"Volume",onClick:e=>e.stopPropagation()})]}),a.jsx("button",{type:"button",className:"wim-video-btn wim-video-btn--fullscreen",onClick:e=>{e.stopPropagation(),Z()},"aria-label":N?"Exit Fullscreen":"Fullscreen",children:a.jsx(b,{name:N?"MinimizeIcon":"MaximizeIcon",size:"small"})})]})})]}),T&&a.jsx("figcaption",{className:"wim-video__caption",children:T})]})};k.__docgenInfo={description:"",methods:[],displayName:"Video",props:{src:{required:!0,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},height:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},autoPlay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},loop:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},muted:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},controls:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},poster:{required:!1,tsType:{name:"string"},description:""},radius:{required:!1,tsType:{name:"union",raw:'"none" | "small" | "medium" | "large" | "full"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'},{name:"literal",value:'"full"'}]},description:"",defaultValue:{value:'"none"',computed:!1}},shadow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},border:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},fit:{required:!1,tsType:{name:"union",raw:'"contain" | "cover" | "fill" | "none" | "scale-down"',elements:[{name:"literal",value:'"contain"'},{name:"literal",value:'"cover"'},{name:"literal",value:'"fill"'},{name:"literal",value:'"none"'},{name:"literal",value:'"scale-down"'}]},description:"",defaultValue:{value:'"cover"',computed:!1}},preload:{required:!1,tsType:{name:"union",raw:'"auto" | "metadata" | "none"',elements:[{name:"literal",value:'"auto"'},{name:"literal",value:'"metadata"'},{name:"literal",value:'"none"'}]},description:""},caption:{required:!1,tsType:{name:"string"},description:""},customControls:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},advancedControls:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const f=""+new URL("videosample-j4XSMn77.mp4",import.meta.url).href,v=""+new URL("imagesanple-j58eW6sL.webp",import.meta.url).href,se={title:"Component/Media/Video",component:k,parameters:{layout:"centered"},argTypes:{radius:{control:"select",options:["none","small","medium","large","full"]},fit:{control:"select",options:["contain","cover","fill","none","scale-down"]}}},r={args:{src:f,poster:v,width:600}},l={args:{src:f,poster:v,width:600,autoPlay:!0,muted:!0,loop:!0,controls:!1,caption:"自動再生＆ループ設定（ミュート必須）"}},i={args:{src:f,poster:v,width:400,radius:"large",shadow:!0}},u={args:{src:f,poster:v,width:600,customControls:!0,radius:"medium",shadow:!0,caption:"カスタムコントロール付きビデオ"}};r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 600
  }
}`,...r.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 600,
    autoPlay: true,
    muted: true,
    loop: true,
    controls: false,
    caption: "自動再生＆ループ設定（ミュート必須）"
  }
}`,...l.parameters?.docs?.source}}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 400,
    radius: "large",
    shadow: true
  }
}`,...i.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 600,
    customControls: true,
    radius: "medium",
    shadow: true,
    caption: "カスタムコントロール付きビデオ"
  }
}`,...u.parameters?.docs?.source}}};const oe=["Default","AutoPlay","Rounded","CustomControls"],pe=Object.freeze(Object.defineProperty({__proto__:null,AutoPlay:l,CustomControls:u,Default:r,Rounded:i,__namedExportsOrder:oe,default:se},Symbol.toStringTag,{value:"Module"}));export{l as A,r as D,i as R,pe as V};
