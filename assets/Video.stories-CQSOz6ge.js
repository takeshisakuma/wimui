import{j as a}from"./jsx-runtime-u17CrQMm.js";import{R as s}from"./iframe-CEIkfnXS.js";import{c as k}from"./index-CJJF6OTK.js";import{I as b}from"./Icon-UxSqIqEA.js";const F=({src:E,width:x,height:z,autoPlay:g=!1,loop:j=!1,muted:V=!1,controls:L=!0,poster:$,radius:P="none",shadow:U=!1,border:A=!1,fit:D="cover",preload:O,caption:T,className:W,style:X,customControls:c=!1,advancedControls:re=!1,...B})=>{const t=s.useRef(null),w=s.useRef(null),[d,m]=s.useState(!1),[h,S]=s.useState(0),[y,G]=s.useState(0),[p,H]=s.useState(1),[n,N]=s.useState(V),[C,q]=s.useState(!1),[R,le]=s.useState(1),[I,ie]=s.useState(j);s.useEffect(()=>{g&&t.current&&t.current.play().catch(e=>{console.warn("Autoplay was prevented:",e)})},[g]),s.useEffect(()=>{t.current&&(t.current.volume=p,t.current.muted=n,t.current.playbackRate=R,t.current.loop=I)},[p,n,R,I]);const M=()=>{t.current&&(d?t.current.pause():t.current.play(),m(!d))},J=()=>{t.current&&S(t.current.currentTime)},K=()=>{t.current&&G(t.current.duration)},Q=e=>{const o=parseFloat(e.target.value);t.current&&(t.current.currentTime=o,S(o))},Y=e=>{const o=parseFloat(e.target.value);H(o),o>0&&N(!1)},Z=()=>{N(!n)},ee=()=>{w.current&&(document.fullscreenElement?(document.exitFullscreen(),q(!1)):(w.current.requestFullscreen().catch(e=>{console.warn(`Error attempting to enable fullscreen mode: ${e.message} (${e.name})`)}),q(!0)))},_=e=>{const o=Math.floor(e/60),se=Math.floor(e%60);return`${o}:${se.toString().padStart(2,"0")}`},ae={width:x||"100%",height:z||"auto",objectFit:D,...X},te=c?!1:L;return a.jsxs("figure",{className:k("wim-video-container",W),style:{width:x||"100%"},children:[a.jsxs("div",{className:k("wim-video-inner",P!=="none"&&`wim-video--radius-${P}`,U&&"wim-video--shadow",A&&"wim-video--border",c&&"wim-video--custom"),ref:w,children:[a.jsx("video",{ref:t,src:E,className:"wim-video",style:ae,autoPlay:g,loop:j,muted:V,controls:te,poster:$,preload:O,playsInline:!0,onTimeUpdate:J,onLoadedMetadata:K,onEnded:()=>m(!1),onPlay:()=>m(!0),onPause:()=>m(!1),onClick:c?M:void 0,...B}),c&&a.jsx("div",{className:"wim-video-custom-controls",children:a.jsxs("div",{className:"wim-video-controls-bottom",children:[a.jsx("button",{type:"button",className:"wim-video-btn wim-video-btn--play",onClick:e=>{e.stopPropagation(),M()},"aria-label":d?"Pause":"Play",children:a.jsx(b,{name:d?"PauseIcon":"PlayIcon",size:"small"})}),a.jsxs("div",{className:"wim-video-time-container",children:[a.jsx("span",{className:"wim-video-time__current",children:_(h)}),a.jsxs("div",{className:"wim-video-progress-container",children:[a.jsx("input",{type:"range",min:"0",max:y||0,value:h,onChange:Q,className:"wim-video-progress","aria-label":"Seek",onClick:e=>e.stopPropagation()}),a.jsx("div",{className:"wim-video-progress-fill",style:{width:`${h/(y||1)*100}%`}})]}),a.jsx("span",{className:"wim-video-time__total",children:_(y)})]}),a.jsxs("div",{className:"wim-video-volume-container",children:[a.jsx("button",{type:"button",className:"wim-video-btn wim-video-btn--volume",onClick:e=>{e.stopPropagation(),Z()},"aria-label":n?"Unmute":"Mute",children:a.jsx(b,{name:n||p===0?"MuteIcon":"VolumeIcon",size:"small"})}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n?0:p,onChange:e=>{e.stopPropagation(),Y(e)},className:"wim-video-volume","aria-label":"Volume",onClick:e=>e.stopPropagation()})]}),a.jsx("button",{type:"button",className:"wim-video-btn wim-video-btn--fullscreen",onClick:e=>{e.stopPropagation(),ee()},"aria-label":C?"Exit Fullscreen":"Fullscreen",children:a.jsx(b,{name:C?"MinimizeIcon":"MaximizeIcon",size:"small"})})]})})]}),T&&a.jsx("figcaption",{className:"wim-video__caption",children:T})]})};F.__docgenInfo={description:"",methods:[],displayName:"Video",props:{src:{required:!0,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},height:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},autoPlay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},loop:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},muted:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},controls:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},poster:{required:!1,tsType:{name:"string"},description:""},radius:{required:!1,tsType:{name:"union",raw:'"none" | "small" | "medium" | "large" | "full"',elements:[{name:"literal",value:'"none"'},{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'},{name:"literal",value:'"full"'}]},description:"",defaultValue:{value:'"none"',computed:!1}},shadow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},border:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},fit:{required:!1,tsType:{name:"union",raw:'"contain" | "cover" | "fill" | "none" | "scale-down"',elements:[{name:"literal",value:'"contain"'},{name:"literal",value:'"cover"'},{name:"literal",value:'"fill"'},{name:"literal",value:'"none"'},{name:"literal",value:'"scale-down"'}]},description:"",defaultValue:{value:'"cover"',computed:!1}},preload:{required:!1,tsType:{name:"union",raw:'"auto" | "metadata" | "none"',elements:[{name:"literal",value:'"auto"'},{name:"literal",value:'"metadata"'},{name:"literal",value:'"none"'}]},description:""},caption:{required:!1,tsType:{name:"string"},description:""},customControls:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},advancedControls:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const f=""+new URL("videosample-j4XSMn77.mp4",import.meta.url).href,v=""+new URL("imagesanple-j58eW6sL.webp",import.meta.url).href,oe={title:"Component/Media & Viz/Video",component:F,parameters:{layout:"centered"},argTypes:{radius:{control:"select",options:["none","small","medium","large","full"]},fit:{control:"select",options:["contain","cover","fill","none","scale-down"]}}},r={args:{src:f,poster:v,width:600}},l={args:{src:f,poster:v,width:600,autoPlay:!0,muted:!0,loop:!0,controls:!1,caption:"自動再生＆ループ設定（ミュート必須）"}},i={args:{src:f,poster:v,width:400,radius:"large",shadow:!0}},u={args:{src:f,poster:v,width:600,customControls:!0,radius:"medium",shadow:!0,caption:"カスタムコントロール付きビデオ"}};r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 600
  }
}`,...r.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 600,
    autoPlay: true,
    muted: true,
    loop: true,
    controls: false,
    caption: "自動再生＆ループ設定（ミュート必須）"
  }
}`,...l.parameters?.docs?.source}}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 400,
    radius: "large",
    shadow: true
  }
}`,...i.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: videoPoster,
    width: 600,
    customControls: true,
    radius: "medium",
    shadow: true,
    caption: "カスタムコントロール付きビデオ"
  }
}`,...u.parameters?.docs?.source}}};const ne=["Default","AutoPlay","Rounded","CustomControls"],pe=Object.freeze(Object.defineProperty({__proto__:null,AutoPlay:l,CustomControls:u,Default:r,Rounded:i,__namedExportsOrder:ne,default:oe},Symbol.toStringTag,{value:"Module"}));export{l as A,r as D,i as R,pe as V};
