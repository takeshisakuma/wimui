import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as C}from"./iframe-CqpHVO8i.js";import{P as u}from"./index-8SIbFkC-.js";import{I as M}from"./Icon-Ce_1uR2t.js";/* empty css                 */const y=({value:D,onChange:f,defaultValue:v,className:S="",disabled:c=!1,...V})=>{const[b,R]=C.useState(new Date),[O,T]=C.useState(v||[null,null]),j=D!==void 0,k=j?D:O,[n,s]=k,r=b.getFullYear(),l=b.getMonth(),N=new Date(r,l,1),F=new Date(r,l+1,0),I=new Date(r,l,0),Y=F.getDate(),_=N.getDay(),P=()=>{c||R(new Date(r,l-1,1))},q=()=>{c||R(new Date(r,l+1,1))},W=e=>{if(c)return;let a;!n||n&&s?a=[e,null]:e<n?a=[e,null]:a=[n,e],j||T(a),f&&f(a)},E=e=>{if(!n||!s)return!1;const a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=new Date(n.getFullYear(),n.getMonth(),n.getDate()),x=new Date(s.getFullYear(),s.getMonth(),s.getDate());return a>o&&a<x},z=e=>{const a=o=>o&&e.getFullYear()===o.getFullYear()&&e.getMonth()===o.getMonth()&&e.getDate()===o.getDate();return a(n)||a(s)},$=e=>{const a=new Date;return e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()&&e.getDate()===a.getDate()},i=[];for(let e=_-1;e>=0;e--){const a=new Date(r,l-1,I.getDate()-e);i.push({date:a,currentMonth:!1})}for(let e=1;e<=Y;e++){const a=new Date(r,l,e);i.push({date:a,currentMonth:!0})}const B=42-i.length;for(let e=1;e<=B;e++){const a=new Date(r,l+1,e);i.push({date:a,currentMonth:!1})}const L=["日","月","火","水","木","金","土"];return t.jsxs("div",{className:`wim-calendar wim-range-calendar ${c?"wim-calendar--disabled":""} ${S}`,...V,children:[t.jsxs("div",{className:"wim-calendar-header",children:[t.jsx("button",{type:"button",className:"wim-calendar-nav-btn",onClick:P,disabled:c,children:t.jsx(M,{name:"ChevronLeftIcon",size:"small"})}),t.jsxs("div",{className:"wim-calendar-title",children:[r,"年 ",l+1,"月"]}),t.jsx("button",{type:"button",className:"wim-calendar-nav-btn",onClick:q,disabled:c,children:t.jsx(M,{name:"ChevronRightIcon",size:"small"})})]}),t.jsxs("div",{className:"wim-calendar-grid",children:[L.map(e=>t.jsx("div",{className:"wim-calendar-weekday",children:e},e)),i.map(({date:e,currentMonth:a},o)=>{const x=z(e),A=E(e),G=$(e),H=n&&e.getTime()===n.getTime(),J=s&&e.getTime()===s.getTime();return t.jsx("button",{type:"button",className:["wim-calendar-day",!a&&"wim-calendar-day--outside",x&&"wim-calendar-day--selected",A&&"wim-calendar-day--in-range",H&&"wim-calendar-day--range-start",J&&"wim-calendar-day--range-end",G&&"wim-calendar-day--today"].filter(Boolean).join(" "),onClick:()=>W(e),disabled:c,children:e.getDate()},o)})]})]})};y.propTypes={value:u.arrayOf(u.instanceOf(Date)),onChange:u.func,defaultValue:u.arrayOf(u.instanceOf(Date)),className:u.string,disabled:u.bool};y.__docgenInfo={description:"ユーザーが日付の範囲を選択するためのカレンダーコンポーネント。",methods:[],displayName:"RangeCalendar",props:{value:{required:!1,tsType:{name:"tuple",raw:"[Date | null, Date | null]",elements:[{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]}]},description:"現在選択されている範囲 [開始日, 終了日]。",type:{name:"arrayOf",value:{name:"instanceOf",value:"Date"}}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: RangeCalendarValue) => void",signature:{arguments:[{type:{name:"tuple",raw:"[Date | null, Date | null]",elements:[{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]}]},name:"value"}],return:{name:"void"}}},description:"範囲が変更された時のコールバック。",type:{name:"func"}},defaultValue:{required:!1,tsType:{name:"tuple",raw:"[Date | null, Date | null]",elements:[{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]}]},description:"初期値。",type:{name:"arrayOf",value:{name:"instanceOf",value:"Date"}}},className:{required:!1,tsType:{name:"string"},description:"追加のクラス名。",defaultValue:{value:'""',computed:!1},type:{name:"string"}},disabled:{required:!1,tsType:{name:"boolean"},description:"無効化。",defaultValue:{value:"false",computed:!1},type:{name:"bool"}}}};const K={title:"Component/Pickers & Sliders/RangeCalendar",component:y,parameters:{layout:"centered"},argTypes:{value:{control:"object"},defaultValue:{control:"object"},onChange:{action:"changed"},disabled:{control:"boolean"}}},m={args:{defaultValue:[null,null]}},w=new Date,h=new Date;h.setDate(w.getDate()+7);const d={args:{defaultValue:[w,h]}},g={args:{defaultValue:[w,h],disabled:!0}},p={render:D=>{const[f,v]=C.useState([w,h]);return t.jsx(y,{...D,value:f,onChange:v})}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    defaultValue: [null, null]
  }
}`,...m.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  args: {
    defaultValue: [today, nextWeek]
  }
}`,...d.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  args: {
    defaultValue: [today, nextWeek],
    disabled: true
  }
}`,...g.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: args => {
    const [range, setRange] = useState<RangeCalendarValue>([today, nextWeek]);
    return <RangeCalendar {...args as any} value={range} onChange={setRange} />;
  }
}`,...p.parameters?.docs?.source}}};const Q=["Default","SelectedRange","Disabled","Controlled"],ne=Object.freeze(Object.defineProperty({__proto__:null,Controlled:p,Default:m,Disabled:g,SelectedRange:d,__namedExportsOrder:Q,default:K},Symbol.toStringTag,{value:"Module"}));export{p as C,m as D,ne as R,d as S,g as a};
