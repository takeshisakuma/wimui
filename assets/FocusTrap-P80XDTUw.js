import{j as p}from"./jsx-runtime-u17CrQMm.js";import{r as n}from"./iframe-CsOAxGtX.js";import{c as y}from"./index-BdpLzZOi.js";const v=({children:d,active:s=!0,autoFocus:o=!0,className:m})=>{const u=n.useRef(null),r=n.useRef(null);return n.useEffect(()=>{if(!s)return;r.current=document.activeElement;const a=u.current;if(!a)return;const c=()=>Array.from(a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(e=>{const t=window.getComputedStyle(e);return t.display!=="none"&&t.visibility!=="hidden"&&!e.disabled});if(o){const e=c();e.length>0&&e[0].focus()}const i=e=>{if(e.key!=="Tab")return;const t=c();if(t.length===0){e.preventDefault();return}const l=t[0],f=t[t.length-1];e.shiftKey?document.activeElement===l&&(e.preventDefault(),f.focus()):document.activeElement===f&&(e.preventDefault(),l.focus())};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),r.current&&r.current.focus()}},[s,o]),p.jsx("div",{ref:u,className:y("wim-focus-trap",m),children:d})};v.__docgenInfo={description:`フォーカスを特定の領域内に閉じ込めるためのユーティリティコンポーネント。\r
ダイアログやモーダルなどで使用します。`,methods:[],displayName:"FocusTrap",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"トラップされるコンテンツ。"},active:{required:!1,tsType:{name:"boolean"},description:"トラップが有効かどうか。",defaultValue:{value:"true",computed:!1}},autoFocus:{required:!1,tsType:{name:"boolean"},description:"マウント時に最初の要素にフォーカスするかどうか。",defaultValue:{value:"true",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"追加のクラス名。"}}};export{v as F};
