import{j as l}from"./jsx-runtime-u17CrQMm.js";import{r as y,R as r}from"./iframe-HMYHJVpo.js";import{c as p}from"./index-_qkpv7Rh.js";import{T}from"./Transition-jCEDXnii.js";import{I as b}from"./Icon-CSfTbXBg.js";const u=r.createContext({isOpen:!1,toggle:()=>{},close:()=>{},open:()=>{}}),x=({children:e,className:n,defaultOpen:i=!1,isOpen:o,onOpenChange:t})=>{const[a,s]=y.useState(i),c=o!==void 0,m=c?o:a,f=y.useRef(null),h=()=>{const d=!m;c||s(d),t?.(d)},v=()=>{c||s(!1),t?.(!1)},w=()=>{c||s(!0),t?.(!0)};return y.useEffect(()=>{const d=g=>{f.current&&!f.current.contains(g.target)&&v()},C=g=>{g.key==="Escape"&&v()};return m&&(document.addEventListener("mousedown",d),document.addEventListener("keydown",C)),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",C)}},[m]),l.jsx(u.Provider,{value:{isOpen:m,toggle:h,close:v,open:w},children:l.jsx("div",{className:p("wim-popover",n),ref:f,children:e})})},N=({children:e,className:n,asChild:i})=>{const{toggle:o,isOpen:t}=r.useContext(u);return i&&r.isValidElement(e)?r.cloneElement(e,{onClick:a=>{e.props.onClick?.(a),o()},className:p(n,e.props.className),"aria-haspopup":"true","aria-expanded":t}):l.jsx("button",{className:p("wim-popover-trigger",n),onClick:o,"aria-haspopup":"true","aria-expanded":t,type:"button",children:e})},k=({children:e,className:n,align:i="left",side:o="bottom",...t})=>{const{isOpen:a}=r.useContext(u);return l.jsx(T,{show:a,enter:"fade-enter",enterFrom:"fade-enter-from",enterTo:"fade-enter-to",leave:"fade-leave",leaveFrom:"fade-leave-from",leaveTo:"fade-leave-to",className:p("wim-popover-content",`wim-popover-content--align-${i}`,`wim-popover-content--${o}`,n),role:"dialog",...t,children:e})},q=({children:e,className:n,asChild:i,...o})=>{const{close:t}=r.useContext(u),a=s=>{t(),o.onClick?.(s)};return i&&r.isValidElement(e)?r.cloneElement(e,{onClick:s=>{e.props.onClick?.(s),a(s)},className:p(n,e.props.className)}):l.jsx("button",{type:"button",className:p("wim-popover-close",n),onClick:a,"aria-label":"Close",...o,children:e||l.jsx(b,{name:"CloseSmallIcon",width:15,height:15})})};x.__docgenInfo={description:"",methods:[],displayName:"Popover",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:"If true, the popover component will manage its own open state.",defaultValue:{value:"false",computed:!1}},isOpen:{required:!1,tsType:{name:"boolean"},description:"If provided, controls the open state."},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:"Callback when open state changes."}}};N.__docgenInfo={description:"",methods:[],displayName:"PopoverTrigger",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},asChild:{required:!1,tsType:{name:"boolean"},description:""}}};k.__docgenInfo={description:"",methods:[],displayName:"PopoverContent",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},align:{required:!1,tsType:{name:"union",raw:'"left" | "right" | "center"',elements:[{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"center"'}]},description:"",defaultValue:{value:'"left"',computed:!1}},side:{required:!1,tsType:{name:"union",raw:'"top" | "bottom"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'}]},description:"",defaultValue:{value:'"bottom"',computed:!1}}}};q.__docgenInfo={description:"",methods:[],displayName:"PopoverClose",props:{asChild:{required:!1,tsType:{name:"boolean"},description:""}}};export{x as P,N as a,k as b,q as c};
