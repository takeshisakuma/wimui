import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as v}from"./iframe-fkfRYW7V.js";import{c as j}from"./index-u7C10MK_.js";import{I as S}from"./Icon-C2ZhoXjf.js";/* empty css                 */const x=({value:D,onChange:p,defaultValue:h,className:b,disabled:c=!1,...V})=>{const[C,R]=v.useState(new Date),[k,N]=v.useState(h||[null,null]),M=D!==void 0,T=M?D:k,[n,l]=T,r=C.getFullYear(),s=C.getMonth(),F=new Date(r,s,1),I=new Date(r,s+1,0),Y=new Date(r,s,0),_=I.getDate(),O=F.getDay(),q=()=>{c||R(new Date(r,s-1,1))},W=()=>{c||R(new Date(r,s+1,1))},E=e=>{if(c)return;let a;!n||n&&l?a=[e,null]:e<n?a=[e,null]:a=[n,e],M||N(a),p&&p(a)},P=e=>{if(!n||!l)return!1;const a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=new Date(n.getFullYear(),n.getMonth(),n.getDate()),y=new Date(l.getFullYear(),l.getMonth(),l.getDate());return a>o&&a<y},z=e=>{const a=o=>o&&e.getFullYear()===o.getFullYear()&&e.getMonth()===o.getMonth()&&e.getDate()===o.getDate();return a(n)||a(l)},L=e=>{const a=new Date;return e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()&&e.getDate()===a.getDate()},u=[];for(let e=O-1;e>=0;e--){const a=new Date(r,s-1,Y.getDate()-e);u.push({date:a,currentMonth:!1})}for(let e=1;e<=_;e++){const a=new Date(r,s,e);u.push({date:a,currentMonth:!0})}const A=42-u.length;for(let e=1;e<=A;e++){const a=new Date(r,s+1,e);u.push({date:a,currentMonth:!1})}const B=["日","月","火","水","木","金","土"];return t.jsxs("div",{className:j("wim-calendar","wim-range-calendar",c&&"wim-calendar--disabled",b),...V,children:[t.jsxs("div",{className:"wim-calendar-header",children:[t.jsx("button",{type:"button",className:"wim-calendar-nav-btn",onClick:q,disabled:c,children:t.jsx(S,{name:"ChevronLeftIcon",size:"small"})}),t.jsxs("div",{className:"wim-calendar-title",children:[r,"年 ",s+1,"月"]}),t.jsx("button",{type:"button",className:"wim-calendar-nav-btn",onClick:W,disabled:c,children:t.jsx(S,{name:"ChevronRightIcon",size:"small"})})]}),t.jsxs("div",{className:"wim-calendar-grid",children:[B.map(e=>t.jsx("div",{className:"wim-calendar-weekday",children:e},e)),u.map(({date:e,currentMonth:a},o)=>{const y=z(e),G=P(e),H=L(e),J=n&&e.getTime()===n.getTime(),K=l&&e.getTime()===l.getTime();return t.jsx("button",{type:"button",className:j("wim-calendar-day",!a&&"wim-calendar-day--outside",y&&"wim-calendar-day--selected",G&&"wim-calendar-day--in-range",J&&"wim-calendar-day--range-start",K&&"wim-calendar-day--range-end",H&&"wim-calendar-day--today"),onClick:()=>E(e),disabled:c,children:e.getDate()},o)})]})]})};x.__docgenInfo={description:"ユーザーが日付の範囲を選択するためのカレンダーコンポーネント。",methods:[],displayName:"RangeCalendar",props:{value:{required:!1,tsType:{name:"tuple",raw:"[Date | null, Date | null]",elements:[{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]}]},description:"現在選択されている範囲 [開始日, 終了日]。"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: RangeCalendarValue) => void",signature:{arguments:[{type:{name:"tuple",raw:"[Date | null, Date | null]",elements:[{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]}]},name:"value"}],return:{name:"void"}}},description:"範囲が変更された時のコールバック。"},defaultValue:{required:!1,tsType:{name:"tuple",raw:"[Date | null, Date | null]",elements:[{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]}]},description:"初期値。"},className:{required:!1,tsType:{name:"string"},description:"追加のクラス名。"},disabled:{required:!1,tsType:{name:"boolean"},description:"無効化。",defaultValue:{value:"false",computed:!1}}}};const Q={title:"Component/Pickers & Sliders/RangeCalendar",component:x,parameters:{layout:"centered"},argTypes:{value:{control:"object"},defaultValue:{control:"object"},onChange:{action:"changed"},disabled:{control:"boolean"}}},i={args:{defaultValue:[null,null]}},f=new Date,w=new Date;w.setDate(f.getDate()+7);const d={args:{defaultValue:[f,w]}},m={args:{defaultValue:[f,w],disabled:!0}},g={render:D=>{const[p,h]=v.useState([f,w]);return t.jsx(x,{...D,value:p,onChange:h})}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  args: {
    defaultValue: [null, null]
  }
}`,...i.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  args: {
    defaultValue: [today, nextWeek]
  }
}`,...d.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    defaultValue: [today, nextWeek],
    disabled: true
  }
}`,...m.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  render: args => {
    const [range, setRange] = useState<RangeCalendarValue>([today, nextWeek]);
    return <RangeCalendar {...args as any} value={range} onChange={setRange} />;
  }
}`,...g.parameters?.docs?.source}}};const U=["Default","SelectedRange","Disabled","Controlled"],ne=Object.freeze(Object.defineProperty({__proto__:null,Controlled:g,Default:i,Disabled:m,SelectedRange:d,__namedExportsOrder:U,default:Q},Symbol.toStringTag,{value:"Module"}));export{g as C,i as D,ne as R,d as S,m as a};
