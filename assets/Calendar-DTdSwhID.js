import{j as a}from"./jsx-runtime-u17CrQMm.js";import{r as f}from"./iframe-BwYkIQ_M.js";import{c as C}from"./index-BsX1a6mg.js";import{I}from"./Icon-UJxNd6LM.js";/* empty css                 */const X=({value:c,onChange:w,defaultValue:h,className:F,disabled:i=!1,rangeMode:p=!1,range:v,onRangeChange:D,minDate:d,maxDate:m,disabledDates:b,isDateDisabled:q,...Y})=>{const[j,M]=f.useState(h||c||new Date),[R,E]=f.useState(h||c),[n,x]=f.useState(v?.start||null),[l,y]=f.useState(v?.end||null),T=c!==void 0,N=T?c:R,r=j.getFullYear(),s=j.getMonth(),O=new Date(r,s,1),V=new Date(r,s+1,0),$=new Date(r,s,0),z=V.getDate(),P=O.getDay(),_=()=>{i||M(new Date(r,s-1,1))},A=()=>{i||M(new Date(r,s+1,1))},o=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),k=e=>!!(q&&q(e)||b&&b.some(t=>o(t,e))||d&&e<new Date(d.getFullYear(),d.getMonth(),d.getDate())||m&&e>new Date(m.getFullYear(),m.getMonth(),m.getDate())),L=e=>{i||k(e)||(p?!n||n&&l?(x(e),y(null),D?.({start:e,end:null})):e<n?(x(e),y(n),D?.({start:e,end:n})):(y(e),D?.({start:n,end:e})):(T||E(e),w&&w(e)))},W=e=>p?!!(n&&o(e,n)||l&&o(e,l)):N&&o(e,N),B=e=>{if(!p||!n||!l)return!1;const t=n<l?n:l,g=n<l?l:n;return e>t&&e<g},G=e=>o(e,new Date),u=[];for(let e=P-1;e>=0;e--){const t=new Date(r,s-1,$.getDate()-e);u.push({date:t,currentMonth:!1})}for(let e=1;e<=z;e++){const t=new Date(r,s,e);u.push({date:t,currentMonth:!0})}const H=42-u.length;for(let e=1;e<=H;e++){const t=new Date(r,s+1,e);u.push({date:t,currentMonth:!1})}const J=["日","月","火","水","木","金","土"];return a.jsxs("div",{className:C("wim-calendar",i&&"wim-calendar--disabled",F),...Y,children:[a.jsxs("div",{className:"wim-calendar-header",children:[a.jsx("button",{type:"button",className:"wim-calendar-nav-btn",onClick:_,disabled:i,"aria-label":"前月",children:a.jsx(I,{name:"ChevronLeftIcon",size:"small"})}),a.jsxs("div",{className:"wim-calendar-title",children:[r,"年 ",s+1,"月"]}),a.jsx("button",{type:"button",className:"wim-calendar-nav-btn",onClick:A,disabled:i,"aria-label":"翌月",children:a.jsx(I,{name:"ChevronRightIcon",size:"small"})})]}),a.jsxs("div",{className:"wim-calendar-grid",children:[J.map(e=>a.jsx("div",{className:"wim-calendar-weekday",children:e},e)),u.map(({date:e,currentMonth:t},g)=>{const K=W(e),Q=G(e),U=B(e),S=k(e);return a.jsx("button",{type:"button",className:C("wim-calendar-day",!t&&"wim-calendar-day--other-month",K&&"wim-calendar-day--selected",Q&&"wim-calendar-day--today",U&&"wim-calendar-day--in-range",S&&"wim-calendar-day--disabled"),onClick:()=>L(e),disabled:i||S,"aria-label":`${e.getFullYear()}年${e.getMonth()+1}月${e.getDate()}日`,children:e.getDate()},g)})]})]})};X.__docgenInfo={description:"ユーザーが日付を閲覧し、選択するためのカレンダーコンポーネント。",methods:[],displayName:"Calendar",props:{value:{required:!1,tsType:{name:"Date"},description:"現在選択されている日付。"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:"日付が変更された時のコールバック。"},defaultValue:{required:!1,tsType:{name:"Date"},description:"初期値。"},className:{required:!1,tsType:{name:"string"},description:"追加のクラス名。"},disabled:{required:!1,tsType:{name:"boolean"},description:"無効化。",defaultValue:{value:"false",computed:!1}},rangeMode:{required:!1,tsType:{name:"boolean"},description:"範囲選択モード。",defaultValue:{value:"false",computed:!1}},range:{required:!1,tsType:{name:"signature",type:"object",raw:"{ start: Date | null; end: Date | null }",signature:{properties:[{key:"start",value:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}],required:!0}},{key:"end",value:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}],required:!0}}]}},description:"選択された範囲（範囲選択モード時）。"},onRangeChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(range: { start: Date | null; end: Date | null }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ start: Date | null; end: Date | null }",signature:{properties:[{key:"start",value:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}],required:!0}},{key:"end",value:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}],required:!0}}]}},name:"range"}],return:{name:"void"}}},description:"範囲が変更された時のコールバック（範囲選択モード時）。"},minDate:{required:!1,tsType:{name:"Date"},description:"選択可能な最小日付。"},maxDate:{required:!1,tsType:{name:"Date"},description:"選択可能な最大日付。"},disabledDates:{required:!1,tsType:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},description:"無効化する日付の配列。"},isDateDisabled:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date) => boolean",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"boolean"}}},description:"特定の日付を無効化する関数。"}}};export{X as C};
