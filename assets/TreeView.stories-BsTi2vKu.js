import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as c,R as w}from"./iframe-DQO96vlz.js";import{c as k}from"./index-CgtPBStF.js";import{I as o}from"./Icon-Bt2n61hp.js";const Q=c.createContext(null),H=()=>{const r=c.useContext(Q);if(!r)throw new Error("TreeView components must be used within a TreeView");return r},B=({children:r,className:x,multiSelect:I=!1,checkable:p=!1,searchable:R=!1,defaultExpandedValues:i=[],defaultSelectedValues:E=[],defaultCheckedValues:z=[],onCheckedChange:g,width:f})=>{const[b,N]=c.useState(i),[j,m]=c.useState(E),[l,y]=c.useState(z),[h,d]=c.useState(""),q=c.useCallback(s=>{N(n=>n.includes(s)?n.filter(u=>u!==s):[...n,s])},[]),C=c.useCallback(s=>{m(I?n=>n.includes(s)?n.filter(u=>u!==s):[...n,s]:[s])},[I]),S=c.useCallback(s=>{y(n=>{const u=n.includes(s)?n.filter(_=>_!==s):[...n,s];return g?.(u),u})},[g]),L=c.useMemo(()=>({expandedValues:b,selectedValues:j,checkedValues:l,toggleExpand:q,select:C,toggleCheck:S,multiSelect:I,checkable:p,searchQuery:h}),[b,j,l,q,C,S,I,p,h]);return e.jsx(Q.Provider,{value:L,children:e.jsxs("div",{className:k("wim-tree-view",x),role:"tree",style:{width:f},children:[R&&e.jsx("div",{className:"wim-tree-view__search",children:e.jsx("input",{type:"text",className:"wim-tree-view__search-input",placeholder:"Search...",value:h,onChange:s=>d(s.target.value)})}),r]})})},A=({value:r,label:x,icon:I,children:p,className:R,disabled:i=!1})=>{const{expandedValues:E,selectedValues:z,checkedValues:g,toggleExpand:f,select:b,toggleCheck:N,checkable:j,searchQuery:m}=H(),l=E.includes(r),y=z.includes(r),h=g.includes(r),d=!!w.Children.count(p),C=!m||(typeof x=="string"?x:"").toLowerCase().includes(m.toLowerCase()),S=w.useMemo(()=>{if(!m||!p)return!1;const t=F=>w.Children.toArray(F).some(D=>{if(!w.isValidElement(D)||D.type!==A)return!1;const P=D.props,O=P.label;return(typeof O=="string"?O:"").toLowerCase().includes(m.toLowerCase())?!0:P.children?t(P.children):!1});return t(p)},[p,m]),[L,s]=w.useState(!1),[n,u]=w.useState(l),[_,M]=w.useState(l);if(w.useEffect(()=>{if(l){u(!0);const t=setTimeout(()=>{M(!0)},10);return()=>clearTimeout(t)}else M(!1),s(!0)},[l]),m&&!C&&!S)return null;const G=t=>{t.propertyName==="grid-template-rows"&&!l&&(u(!1),s(!1))},J=()=>{i||b(r)},K=t=>{t.stopPropagation(),!i&&d&&f(r)},U=t=>{t.stopPropagation(),i||N(r)},W=t=>{if(!i)switch(t.key){case"Enter":case" ":t.preventDefault(),b(r);break;case"ArrowRight":d&&!l&&(t.preventDefault(),f(r));break;case"ArrowLeft":d&&l&&(t.preventDefault(),f(r));break}};return e.jsxs("div",{className:k("wim-tree-view-item",y&&"wim-tree-view-item--selected",i&&"wim-tree-view-item--disabled",R),role:"treeitem","aria-selected":y,"aria-expanded":d?l:void 0,"aria-disabled":i,children:[e.jsxs("div",{className:"wim-tree-view-item__label-container",onClick:J,onKeyDown:W,tabIndex:i?-1:0,children:[d&&e.jsx("button",{type:"button",className:k("wim-tree-view-item__expand-btn",l&&"wim-tree-view-item__expand-btn--expanded"),onClick:K,disabled:i,"aria-label":l?"Collapse":"Expand",children:e.jsx(o,{name:"ChevronRightIcon",size:"small"})}),!d&&e.jsx("span",{className:"wim-tree-view-item__spacer"}),j&&e.jsx("input",{type:"checkbox",className:"wim-tree-view-item__checkbox",checked:h,onChange:U,disabled:i,onClick:t=>t.stopPropagation()}),I&&e.jsx("span",{className:"wim-tree-view-item__icon",children:I}),e.jsx("span",{className:"wim-tree-view-item__label",children:x})]}),d&&n&&e.jsx("div",{className:k("wim-tree-view-item__children",_&&"wim-tree-view-item__children--expanded"),onTransitionEnd:G,style:{gridTemplateRows:_?"1fr":"0fr"},children:e.jsx("div",{className:"wim-tree-view-item__children-inner",children:p})})]})},a=B;a.Item=A;A.__docgenInfo={description:"",methods:[],displayName:"TreeViewItem",props:{value:{required:!0,tsType:{name:"string"},description:""},label:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};B.__docgenInfo={description:"",methods:[],displayName:"TreeView",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},multiSelect:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},checkable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},searchable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},defaultExpandedValues:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},defaultSelectedValues:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},defaultCheckedValues:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},onCheckedChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(checked: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"checked"}],return:{name:"void"}}},description:""},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""}}};const X={title:"Component/Data Display/TreeView",component:a,parameters:{layout:"centered"}},V={args:{width:"400px"},render:r=>e.jsxs(a,{...r,defaultExpandedValues:["1","2"],children:[e.jsxs(a.Item,{value:"1",label:"Documents",icon:e.jsx(o,{name:"CircleIcon",size:"small"}),children:[e.jsxs(a.Item,{value:"1-1",label:"Work",icon:e.jsx(o,{name:"SquareIcon",size:"small"}),children:[e.jsx(a.Item,{value:"1-1-1",label:"Project A.docx",icon:e.jsx(o,{name:"CopyIcon",size:"small"})}),e.jsx(a.Item,{value:"1-1-2",label:"Project B.docx",icon:e.jsx(o,{name:"CopyIcon",size:"small"})})]}),e.jsx(a.Item,{value:"1-2",label:"Personal",icon:e.jsx(o,{name:"SquareIcon",size:"small"}),children:e.jsx(a.Item,{value:"1-2-1",label:"Photos",icon:e.jsx(o,{name:"CircleIcon",size:"small"})})})]}),e.jsxs(a.Item,{value:"2",label:"Music",icon:e.jsx(o,{name:"CircleIcon",size:"small"}),children:[e.jsx(a.Item,{value:"2-1",label:"Rock",icon:e.jsx(o,{name:"SquareIcon",size:"small"})}),e.jsx(a.Item,{value:"2-2",label:"Jazz",icon:e.jsx(o,{name:"SquareIcon",size:"small"})})]}),e.jsx(a.Item,{value:"3",label:"Videos",icon:e.jsx(o,{name:"CircleIcon",size:"small"})})]})},T={render:()=>e.jsxs(a,{multiSelect:!0,defaultExpandedValues:["1"],children:[e.jsxs(a.Item,{value:"1",label:"System",children:[e.jsx(a.Item,{value:"1-1",label:"Logs"}),e.jsx(a.Item,{value:"1-2",label:"Config"})]}),e.jsxs(a.Item,{value:"2",label:"Users",children:[e.jsx(a.Item,{value:"2-1",label:"Admin"}),e.jsx(a.Item,{value:"2-2",label:"Guest"})]})]})},v={render:()=>e.jsxs(a,{defaultExpandedValues:["1"],children:[e.jsxs(a.Item,{value:"1",label:"Root (Enabled)",children:[e.jsx(a.Item,{value:"1-1",label:"Disabled Item",disabled:!0}),e.jsx(a.Item,{value:"1-2",label:"Enabled Item"})]}),e.jsx(a.Item,{value:"2",label:"Disabled Root",disabled:!0,children:e.jsx(a.Item,{value:"2-1",label:"Should not be reachable"})})]})};V.parameters={...V.parameters,docs:{...V.parameters?.docs,source:{originalSource:`{
  args: {
    width: "400px"
  },
  render: args => <TreeView {...args} defaultExpandedValues={["1", "2"]}>\r
            <TreeView.Item value="1" label="Documents" icon={<Icon name="CircleIcon" size="small" />}>\r
                <TreeView.Item value="1-1" label="Work" icon={<Icon name="SquareIcon" size="small" />}>\r
                    <TreeView.Item value="1-1-1" label="Project A.docx" icon={<Icon name="CopyIcon" size="small" />} />\r
                    <TreeView.Item value="1-1-2" label="Project B.docx" icon={<Icon name="CopyIcon" size="small" />} />\r
                </TreeView.Item>\r
                <TreeView.Item value="1-2" label="Personal" icon={<Icon name="SquareIcon" size="small" />}>\r
                    <TreeView.Item value="1-2-1" label="Photos" icon={<Icon name="CircleIcon" size="small" />} />\r
                </TreeView.Item>\r
            </TreeView.Item>\r
            <TreeView.Item value="2" label="Music" icon={<Icon name="CircleIcon" size="small" />}>\r
                <TreeView.Item value="2-1" label="Rock" icon={<Icon name="SquareIcon" size="small" />} />\r
                <TreeView.Item value="2-2" label="Jazz" icon={<Icon name="SquareIcon" size="small" />} />\r
            </TreeView.Item>\r
            <TreeView.Item value="3" label="Videos" icon={<Icon name="CircleIcon" size="small" />} />\r
        </TreeView>
}`,...V.parameters?.docs?.source}}};T.parameters={...T.parameters,docs:{...T.parameters?.docs,source:{originalSource:`{
  render: () => <TreeView multiSelect defaultExpandedValues={["1"]}>\r
            <TreeView.Item value="1" label="System">\r
                <TreeView.Item value="1-1" label="Logs" />\r
                <TreeView.Item value="1-2" label="Config" />\r
            </TreeView.Item>\r
            <TreeView.Item value="2" label="Users">\r
                <TreeView.Item value="2-1" label="Admin" />\r
                <TreeView.Item value="2-2" label="Guest" />\r
            </TreeView.Item>\r
        </TreeView>
}`,...T.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  render: () => <TreeView defaultExpandedValues={["1"]}>\r
            <TreeView.Item value="1" label="Root (Enabled)">\r
                <TreeView.Item value="1-1" label="Disabled Item" disabled />\r
                <TreeView.Item value="1-2" label="Enabled Item" />\r
            </TreeView.Item>\r
            <TreeView.Item value="2" label="Disabled Root" disabled>\r
                <TreeView.Item value="2-1" label="Should not be reachable" />\r
            </TreeView.Item>\r
        </TreeView>
}`,...v.parameters?.docs?.source}}};const Y=["Default","MultiSelect","DisabledItems"],te=Object.freeze(Object.defineProperty({__proto__:null,Default:V,DisabledItems:v,MultiSelect:T,__namedExportsOrder:Y,default:X},Symbol.toStringTag,{value:"Module"}));export{V as D,te as T};
