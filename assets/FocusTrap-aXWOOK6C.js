import{r as o,j as v}from"./react-D-G-yZ1o.js";import{P as n}from"./prop-types-CamVAYe7.js";const m=({children:p,active:s=!0,autoFocus:a=!0,className:y=""})=>{const u=o.useRef(null),r=o.useRef(null);return o.useEffect(()=>{if(!s)return;r.current=document.activeElement;const l=u.current;if(!l)return;const c=()=>Array.from(l.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(e=>{const t=window.getComputedStyle(e);return t.display!=="none"&&t.visibility!=="hidden"&&!e.disabled});if(a){const e=c();e.length>0&&e[0].focus()}const i=e=>{if(e.key!=="Tab")return;const t=c();if(t.length===0){e.preventDefault();return}const d=t[0],f=t[t.length-1];e.shiftKey?document.activeElement===d&&(e.preventDefault(),f.focus()):document.activeElement===f&&(e.preventDefault(),d.focus())};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),r.current&&r.current.focus()}},[s,a]),v.jsx("div",{ref:u,className:`wim-focus-trap ${y}`,children:p})};m.propTypes={children:n.node.isRequired,active:n.bool,autoFocus:n.bool,className:n.string};m.__docgenInfo={description:`フォーカスを特定の領域内に閉じ込めるためのユーティリティコンポーネント。\r
ダイアログやモーダルなどで使用します。`,methods:[],displayName:"FocusTrap",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"トラップされるコンテンツ。",type:{name:"node"}},active:{required:!1,tsType:{name:"boolean"},description:"トラップが有効かどうか。",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},autoFocus:{required:!1,tsType:{name:"boolean"},description:"マウント時に最初の要素にフォーカスするかどうか。",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},className:{required:!1,tsType:{name:"string"},description:"追加のクラス名。",defaultValue:{value:'""',computed:!1},type:{name:"string"}}}};export{m as F};
